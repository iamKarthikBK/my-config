ÿÿo"contentB­¥/*_M:v5OVgf*/
try{
_.B("v5OVgf");

var Ebg=function(a,b,c,d,e,f){var g=_.pka.prototype.W;(a=_.Zg(a,b,!0,c))&&a.forEach(function(k,l){_.lca(e,d,k,function(n,q){g.call(q,1,l);_.lca(q,2,k,f)})})},Fbg=function(a,b,c,d,e){for(;_.bca(b);){var f=b.O;if(1===f){if(d(b,a,1))continue}else if(2===f&&_.qca(b,a,2,c,e))continue;_.cca(b)}},Gbg=function(a,b,c){b=_.Wg(b,c);null!=b&&_.jca(a,c,_.tba(b).buffer)},Hbg=function(a){if(_.Ya(a))throw Error("ca");},Jbg=function(a,b){a.removeAttribute("srcdoc");if(!(b instanceof _.Ph))throw new Ibg(typeof b,1);
_.nc(a,b);for(b="allow-same-origin allow-scripts allow-forms allow-popups allow-popups-to-escape-sandbox allow-storage-access-by-user-activation".split(" ");0<a.sandbox.length;)a.sandbox.remove(a.sandbox.item(0));for(var c=0;c<b.length;c++)a.sandbox.supports&&!a.sandbox.supports(b[c])||a.sandbox.add(b[c])},Lbg=function(a){var b=_.mc(Kbg).toString();if(/#/.test(b))throw Error("na");var c=/\?/.test(b)?"&":"?";a.forEach(function(d,e){d=d instanceof Array?d:[d];for(var f=0;f<d.length;f++){var g=d[f];
null!==g&&void 0!==g&&(b+=c+encodeURIComponent(e)+"="+encodeURIComponent(String(g)),c="&")}});return _.Rh(b)},Mbg=function(a,b,c){c=c?c.end+1:b.start;return new _.tS(c,c+a-1<b.end?c+a-1:b.end)},Nbg=function(a,b){var c,d;return _.rg(function(e){if(1==e.H)return(c=_.UK(a))?e.wf(0):_.kg(e,b,3);d=e.O;_.crc(a,_.y(d,4));_.lg(e)})},Obg=function(a,b){return a+"|"+b},Rbg=function(a){var b=new Pbg,c=new j1;a=_.p(c,1,a?2:1);return _.bh(b,1,Qbg,a)},Wbg=function(a,b,c,d){var e=new k1;a=_.p(e,1,a);b=_.p(a,2,b);
a=new Sbg;c=_.p(a,1,_.xrc[c]);c=_.bh(b,3,Tbg,c);d=Ubg(new Vbg,_.zrc[d]);return _.u(c,4,d)},Zbg=function(a){return Xbg(Ybg(9),a).Hc()},$bg=function(a){return Xbg(Ybg(10),a).Hc()},acg=function(){for(var a=0,b=0;b<arguments.length;b++)a+=arguments[b].length;a=new Uint8Array(a);for(var c=b=0;c<arguments.length;c++)a.set(arguments[c],b),b+=arguments[c].length;return a},ccg=function(a){var b=bcg.get(a);if(!b)throw new l1("Key manager for key type "+a+" has not been registered.");return b},dcg=function(a,
b){var c,d,e;return _.rg(function(f){if(1==f.H){if(b instanceof m1){if(c&&_.I(b,1)!=c)throw new l1("Key type is "+c+", but it is expected to be "+_.I(b,1)+" or undefined.");c=_.I(b,1)}if(!c)throw new l1("Key type has to be specified.");d=ccg(c);return _.kg(f,d.sT(a,b),2)}e=f.O;if(!(e instanceof a))throw new TypeError("Bq");return f.return(e)})},lcg=function(a){return _.rg(function(b){var c=_.I(a,1);ccg(c);if(!ecg.get(c))throw new l1("New key operation is forbidden for key type: "+c+".");c=b.return;
Hbg(a);var d=_.Faa(_.Paa(_.I(a,2)));if(d instanceof Uint8Array){try{var e=_.uh(d,fcg)}catch(f){throw new l1("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}if(!_.eh(e,2))throw new l1("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key format.");}else if(d instanceof gcg)e=d;else throw new l1("Expected AesGcmKeyFormat-proto");d=e;hcg(_.eh(d,2));e=new icg;d=jcg(_.eh(d,2));e=_.Vja(e,
3,d);e=_.db(e,1,0,0);d=new m1;d=_.lh(d,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");e=_.mh(d.Hb(_.vh(e,kcg)),3,1);return c.call(b,e)})},jcg=function(a){if(!Number.isInteger(a)||0>a)throw new mcg("n must be a nonnegative integer");a=new Uint8Array(a);crypto.getRandomValues(a);return a},qcg=function(){var a=ncg(),b;return _.rg(function(c){if(1==c.H)return _.kg(c,ocg(a),2);b=c.O;return c.return(new pcg(b))})},ocg=function(a){var b,c,d,e;return _.rg(function(f){if(1==f.H){var g=(new n1).tc(1);
b=_.mh(g,4,_.Xg(a,3,0));g=jcg(4);for(var k=0,l=0;l<g.length;l++)k+=(g[l]&255)<<8*l;c=Math.abs(k)%Math.pow(2,32);_.db(b,3,c,0);return _.kg(f,lcg(a),2)}d=f.O;_.u(b,1,d);e=new rcg;_.ch(e,2,n1,b);_.db(e,1,c,0);return f.return(e)})},hcg=function(a){if(!scg.includes(a))throw new mcg("unsupported AES key size: "+a);},tcg=function(a){if(null==a||!(a instanceof Uint8Array))throw new mcg("input must be a non null Uint8Array");},vcg=function(a){var b;return _.rg(function(c){if(1==c.H)return tcg(a),hcg(a.length),
_.kg(c,self.crypto.subtle.importKey("raw",a,{name:"AES-GCM",length:a.length},!1,["encrypt","decrypt"]),2);b=c.O;return c.return(new ucg(b))})},zcg=function(a,b){var c,d,e;return _.rg(function(f){switch(f.H){case 1:if(!_.P(b,1))throw new o1("keyMetadata","Key metadata must include key format");c=b.H();switch(c){case 0:case 1:return f.wf(2);case 2:return f.wf(3);default:throw new o1("keyMetadata","Unknown key format: "+c);}case 2:_.mg(f,5);if(!a)throw new l1("Serialized keyset has to be non-null.");
var g=(new wcg(a)).read();g=new pcg(g);return _.kg(f,g.sT(xcg),7);case 7:return f.return(f.O);case 5:throw d=_.og(f),new ycg(d.message);case 6:f.wf(0);break;case 3:_.mg(f,8);var k=ncg();g=new m1;_.mh(_.lh(g,1,_.I(k,1)).Hb(a),3,1);var l=(new n1).tc(1);k=_.mh(l,4,_.Xg(k,3,0));k=_.db(k,3,1,0);g=_.u(k,1,g);k=new rcg;_.ch(k,2,n1,g);_.db(k,1,1,0);g=new pcg(k);return _.kg(f,g.sT(xcg),10);case 10:return f.return(f.O);case 8:throw e=_.og(f),new ycg(e.message);case 9:f.wf(0)}})},Ccg=function(){var a;return _.rg(function(b){if(1==
b.H)return _.kg(b,qcg(),2);a=b.O;var c=b.return;var d=a.H;if(1!==Acg(d).length)throw Error("Cq");d=_.t(Acg(d)[0],m1,1);if(!d)throw Error("Dq");if("type.googleapis.com/google.crypto.tink.AesGcmKey"!==_.I(d,1))throw Error("Eq");d=Bcg(d);return c.call(b,d)})},Ecg=function(){var a;return _.rg(function(b){if(1==b.H)return _.kg(b,qcg(),2);a=b.O;var c=b.return;var d=a.H;if(d instanceof rcg)d=_.vh(d,Dcg);else throw new l1("unexpected type for keyset.");return c.call(b,d)})},Fcg=function(a,b,c){if(0>=c)throw new o1("ciphertextChunkSize",
"Ciphertext chunk size must be greater than zero");if(b>c)throw new o1("plaintextChunkSize","Plaintext chunk size cannot be greater than ciphertext chunk size");var d=c-b;if(a<d)throw new o1("ciphertextSize","Ciphertext is too short, must be at least "+d+" bytes");var e=Math.floor(a/c);a%=c;if(0===a)return e*b;if(a<d)throw new o1("ciphertextSize","Final chunk in ciphertext is too short");if(a===d&&0!==e)throw new o1("ciphertextSize","Final chunk has no plaintext");return e*b+(a-d)},Gcg=function(){var a=
new Uint8Array(16);window.crypto.getRandomValues(a);return _.ab(a,4)+":"+_.fj().location.origin},Hcg=function(a){var b,c;return _.rg(function(d){if(1==d.H)return b=(new TextEncoder).encode(a),_.kg(d,window.crypto.subtle.digest("SHA-256",b),2);c=d.O;return d.return(_.ab(new Uint8Array(c),4))})},Jcg=function(a,b,c){var d=new Icg;a=_.p(d,1,a);b=Date.now()-b;b=_.p(a,2,b);if(!c)return _.p(b,3,0),b;c instanceof p1?_.p(b,3,c.H):_.p(b,3,17);return b},Kcg=function(a,b,c,d){var e=_.jma(_.Qh(a));var f=0<d.length?
d:(d=_.fj().location.ancestorOrigins)?Array.from(d):[];f.unshift(_.fj().location.origin);d=_.hj("IFRAME");Jbg(d,_.gla(a,{origin:f,authuser:c},{clientid:b}));_.cs(d,!1);a=_.N0d({destination:_.fj(),iframe:d,origin:e,cG:"channel",onMessage:function(){}});document.body.appendChild(d);return{iframe:d,channel:a,Wg:!1}},Lcg=function(a){return new Promise(function(b,c){var d=setTimeout(function(){c(new p1("Failed to open iframe channel within timeout",26))},6E4);a.channel.O.then(function(){clearTimeout(d);
b()}).catch(function(e){clearTimeout(d);c(new p1("Error opening channel",26,e instanceof Error?e:null))})})},Mcg=function(a){switch(a){case 401:return new p1("KACLS returned a status of 401 Unauthorized",29);default:return new p1("KACLS returned an error status: "+a,30)}},Ncg=function(a,b,c){var d,e,f;return _.rg(function(g){if(1==g.H)return _.kg(g,window.crypto.subtle.importKey("raw",a,{name:"HMAC",hash:"SHA-256"},!1,["sign"]),2);if(3!=g.H)return d=g.O,e=(new TextEncoder).encode("ResourceKeyDigest:"+
b+":"+c),_.kg(g,crypto.subtle.sign({name:"HMAC"},d,e),3);f=g.O;return g.return(new Uint8Array(f))})},Ocg=function(a,b){var c,d;return _.rg(function(e){try{c=JSON.parse(_.zkc(b.split(".")[1]))}catch(f){throw new p1("Cannot decode authorization token",5,f);}d=c.resource_name;if(void 0===d)throw new p1("Missing resource name in authorization token",5);return e.return(Ncg(a,d,c.perimeter_id||""))})},Pcg=function(){var a,b,c,d,e,f,g,k,l,n;return _.rg(function(q){if(1==q.H)return a={aud:"test_kacl",iss:"google-cse-test-authz",
email:"jane.doe@foo.bar",resource_name:"item1234",perimeter_id:"",role:"writer",kacls_url:"https://3lvj2179xj.execute-api.us-west-1.amazonaws.com/alpha"},b=new TextEncoder,c={alg:"RS256",typ:"JWT",kid:"test_authz"},d=_.vI(JSON.stringify(c),4),e=Math.round(Date.now()/1E3)-1,a.iat=e,a.exp=Math.round(e+3600),f=d+"."+_.vI(JSON.stringify(a),4),g={alg:"RS256",d:"G6GPMtLzIluY3uWJj304LUcWYzBAqpF8Sv3v5fxPc_r6_SERS837kX1b69GHLJQZLYJIKQZh4YhA2sfMUe4Phlyu6C-hOc2HY6eY1Ek2X0Yq-6VKe0L4ipw-BjK5Pme-gHd_rsAF0i1B2lV6BZeeJ2eJvFSyKu-h6Hwejay8WgQnSv_JWhDjD-yX6y8icnQ1eiwTAhlUn4xkHLraYEe5ulFav6unSGgpUwPQ6K7NVIZbFjcBWZqFQ4m7C_CMSJptWswEYBw54SK6SvVJwWcC5Rv-73hGREPNAnReCov7FCIEjun9ZJmIiWQKFGgTOTcbh-BKfTXYLbYz_z_Hgd_NBHHNsFyUcSWe7uTv_UCaGWo3g73zluCA5YQIZcpOPvEujIpSE3e_p19fsT7ME4bRWpuvdGtmtSAJy7jjtjnz77m-VxCWvsCEFG3Dld1DHpnmAcKAAYnX49YCHnb9fR0fCafbtLgUnfSqYb7xP2OPgudj0avEe3hsodoCVB_UeA3guqD4PwKf_8M_EOwPkINk-CESn-ZLEtKM0a6qCGlpwlt6t4jHXurlRp17EVKjip_MvKd-V6vKuCP__Esmj5P_n5QaC7OlaXy_d2cSCoZtqjvFu2K3KRu2HKzzFbhZSIYSRacPTQ-oiE6pfA96-6d55ETW3lQqQhoOUudTo734Xmk",
dp:"XiXGIfFs1EFv5BGu9kMOlx1ZF3ZR-naFd-JVHkuFcrJ2nw87-ITfAwvmHsnFm0YCx6TuWfbB2cOBfLN-l7DcrDBM34a_1x81X6C4ZBF3eJ23Sp39RVFg_EWdd-c_8ArAcn3jk0y93jv6_C0KuwF8U62QCDO75zV0bKSIkul0WonalW92-bgHDC9eDA5HzplRnQ7YbPFQErcAi-SPvLtNQQ2D5aA9RZAGk6gDXFrD94odVLlyXGmvKbu7ms2sC_YFhFfbwSs8Tm6Jq3zP68vcZItG34i4a5mSb3tqTJm12SvuNY_XTb2iY3_geeGd8kkAJB04V2jwuzhcU3jN01wgyQ",dq:"PBGcT8hmJIb_MaIsyVT8_C5pEkj4AqGrwVgtkMOXGAZ-XeN3nhxT3-Ow2cr-zfVLruhATS4YNCEuVjDj2bZOf71fB1PGVlxreBjSnZ4ajK3V21Yv3sN0mW4olSoGVxjGwAuD4IHOZgRYxQvZRsU8_RMO0ddfwayw6sCPcTDLXvD15WUxNOPoNFlxiMRdSc2WkogaouwYG235GS7kkwdLIR83EEI0OZnLV3PHmkcbB7YZHn-DglVbI_vQCK3QTw7Kd7B5Dl9QK9gsaAc1qpMgIt0AWwOuQDVhmeVGZym888MHU7j9KH-BJq_V9fp2Ur5arNXGoDSR61XHNiWnt_CJ_w",
e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"jxmY-gE7sdijGpm8mCUirJEfeSj5DCGEquhHNTgYr7nnDwWaKOkeCnpHNon32XeqVqJMWqQk23URh6pJptqx7lfswjfshv1Sy3j-u7bxVT_2U4j4MTqICbnqgSSYRgQA71IGf7Ss2Uqjl2XGJMp_Knyej0wqb1yj0xcNhQH5E4rQaYA25q_hwJzRx7ipZbgpeqfAHgcyPRhCS8fdL9skJEYje921k0CzOIPl1SB6veRrMJq1vO9g31GCGjCJQ2kVav5f_mTOQHHXtz6dtNx42zB7ZFWwUzo3ngiwTWZ3nz333b3Vgj_EgI2EoGLgZYVHqg89lHwJqTNy8hZekWtOwYQUVCiWXtr1g140703_F5QXEvIR7T31iX-ppU-PYeVPMt3Ba8qCpsJRz08ScjDsxKiXezKZK83cGDrev27pn6NNu054aNqcBRjB2_t06hdrtv1ny6DfsjnQcI2sZTV8pNBlBjQuQpeUqWxk4NI60a4lebvwvwVpPO9fqI-6lrqoA2uZ7ljvrJ_RtB7uDkO8KvPbee98eB96Pyl030mne1tBsArAmBS5fn2slywJW1OYtxk3n5BWMPHagy3nMCVqplU9MwmLaWb_y_OcFD4w1sdW8ODb9HATBhF1zz9ULxTHi0FR8iM2irqWR0etGU0Mb748nNgtlmiBF383SnoNX88",
p:"yCdugSE_u9KxPsT9N7KkqUbL-seqox6NJSTa4E6wwLpco9hDfwXeCMbquLSsioOs1jfWvAmhrs-N3a1_hic3aE2a7xSuV3iCZxu6g-fyVOXD_r-U7w5cYBZFMDaKwsK-EKUTWdCXbkGhrgkkcs1LyZJt4clf3ZkJ9TITz0ldBILSAzj2nhdO_CiTx8xpcKidTiPWaOYsZUXb3dyJf59aabz1RZmyd-jqNwNnqr98WC1IacE6SZgTOmmPZYxxYqYM9TlXvp6LHNkk_xDLfwweIbrRxq36G0WIeaAITfY83K30oqaLNi1tGrvttjDx21Xpox5BufAjxtdt384NLBI0WQ",q:"twbragsXfmCFmHH0Zs6G9W-MaoX47OrUuXrZ782hCpNyUr2d3_ukySN3AHx0UVDMYiq3_4E8hjkux331lL24Ze1YyQjEjRhimi6Rr4b7hbMelxWd0eI2sDTGCodR3QV8KNO2NTjRqdajVfOgMkGf7kpWrle8mX5SqiUKk_HRyxZx-kzMgETm2qjE1nLtIygyj6QtmMtq1qpS5jVRa6z_U5eAsKQD5sqzwj3zVkMed4iDjEXFAwuZIpYt-KqjhRzzr-koM_4H3nzzO0d93GwmZUys3WCluNhyiUOkgK-gkFjfjV0eqlNPTiX5nkonLAJ-FIAnfZeY4UcAfLITd4LQZw",
qi:"JOudX6P4PCyZ8XddBgE8vCkHVFbW-s6Qt7nJjhDyzbcw1GIFCUXH_v6oBWt_E6SA_kPqbY3MJ2CZ3KvY2Clp1eF9Zm_iwwQM8DexTVz9YT5PiqtDuCkp6Iyb5XpwTVhVHJnPxvoPTUE_xCrqw1zojqAI-V88LGX5TsMcyeTrN-IIHQ6-42I6d9iTfpC4ZjeQUadj7SwtarASf2snE9PiESArrVU8SgURKXKZStMp3txLLxOhMfmX7ctu55KxGBhoN5Lp360vxUXWGuBLGpcYyPJBLoPKbKODaNmHHBkPyUxMzZ7qtgysF9joR9osKIouT0V8uD-scA-pRE7hEOfIMQ"},_.kg(q,window.crypto.subtle.importKey("jwk",g,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=q.H)return k=q.O,_.kg(q,crypto.subtle.sign("RSASSA-PKCS1-v1_5",
k,b.encode(f)),3);l=q.O;n=f+"."+_.ab(new Uint8Array(l),4);return q.return(n)})},Qcg=function(a,b){return new Promise(function(c){var d=function(e){e.source===a.contentWindow&&e.data===b&&(window.removeEventListener("message",d),c(e))};window.addEventListener("message",d)})},Rcg=function(a){var b=_.hj("IFRAME");if(!b.sandbox)throw Error("Jq");b.sandbox.value="allow-scripts";b.sandbox.supports&&b.sandbox.add&&b.sandbox.supports("allow-downloads")&&b.sandbox.add("allow-downloads");if(""==Kbg){var c=
_.sc('<!DOCTYPE html><body><input type="hidden" id="nonce" value="'+_.sS(a)+'" /><script nonce="'+_.sS(_.Lla())+'">/*\n\n Copyright The Closure Library Authors.\n SPDX-License-Identifier: Apache-2.0\n*/\nvar f=function(){for(var b=Number(this),a=[],c=b;c<arguments.length;c++)a[c-b]=arguments[c];return a},h=this||self,k=function(b){return b};/*\n\n SPDX-License-Identifier: Apache-2.0\n*/\nvar l;var m={},n=function(b,a){this.g=a===m?b:""};n.prototype.toString=function(){return this.g.toString()};var p=function(b){return b instanceof n&&b.constructor===n?b.g:"type_error:SafeScript"},q=function(b){if(void 0===l){var a=null;var c=h.trustedTypes;if(c&&c.createPolicy)try{a=c.createPolicy("goog#html",{createHTML:k,createScript:k,createScriptURL:k})}catch(d){h.console&&h.console.error(d.message)}l=a}b=(a=l)?a.createScript(b):b;return new n(b,m)};function r(b,a){b.textContent=p(a);var c,d;(c=(a=null==(d=(c=(b.ownerDocument&&b.ownerDocument.defaultView||window).document).querySelector)?void 0:d.call(c,"script[nonce]"))?a.nonce||a.getAttribute("nonce")||"":"")&&b.setAttribute("nonce",c)};var t=function(b){var a=f.apply(1,arguments),c,d;"evalCspCompatiblyData"in window||(window.evalCspCompatiblyData={index:0});var e=window.evalCspCompatiblyData.index++;window.evalCspCompatiblyData[e]={args:a,callback:function(g,u){c=g;d=u}};a=document.createElement("script");a.async=!1;a.setAttribute("data-index",e);e=q(\'"use strict";\\v(function(){var idx=parseInt((document.currentScript||Array.prototype.slice.call(document.querySelectorAll("head script[data-index]"),-1)[0]).getAttribute("data-index"),10),curEvalData=evalCspCompatiblyData[idx];delete evalCspCompatiblyData[idx];(function(){var callback=curEvalData.callback;try{callback(true,(\'+\nString(p(b))+"\\n));}catch(ex){callback(false, ex);}}).apply(this, curEvalData.args);})()");r(a,e);e=function(g){c=!1;d=g.error||g};window.addEventListener("error",e);document.head.appendChild(a);window.removeEventListener("error",e);document.head.removeChild(a);if(!c)throw d;return d};var v=document.getElementById("nonce"),w=v?v.value:(new URL(location.href)).searchParams.get("nonce");function x(){if(self.origin)return"null"==self.origin;if(""!=location.host)return!1;try{return window.parent.escape(""),!1}catch(b){return!0}}\n(function(){if(!x())throw"sandboxing error";var b=new MessageChannel;b.port1.onmessage=function(a){try{var c=t.apply(null,[q("(function("+a.data.paramNames.join(", ")+") {\\n"+a.data.code+"\\n}).apply(null, arguments)")].concat(a.data.values));a.ports[0].postMessage({result:c})}catch(d){a.ports[0].postMessage({error:d.toString()})}};window.parent.postMessage(w,"*",[b.port2])})();\n\x3c/script></body>');
a=_.Rh("data:text/html;charset=UTF-8;base64,"+btoa(c.toString()));b.srcdoc=_.ic(c)}else a=Lbg(new Map([["nonce",a]]));_.nc(b,a);b.style.cssText="height: 0; left: 0; position: absolute; top: 0; width: 0;";b.setAttribute("aria-hidden","true");return b},Scg=function(){return new Promise(function(a){setTimeout(a,500)})},Tcg=function(a){var b=a.H.O()>>>0;return _.dca(a.H,b)},Ucg=function(){_.rh.apply(this,arguments)},ydg,j1,Edg,Fdg,Gdg;_.K(Ucg,_.rh);
var Vcg=_.pb(function(a,b,c){if(2!==a.Jm)return!1;_.p(b,c,Tcg(a));return!0},Gbg),Wcg=_.pb(function(a,b,c){if(2!==a.Jm)return!1;_.Vja(b,c,Tcg(a));return!0},Gbg),Xcg=_.pb(function(a,b,c,d,e){if(2!==a.Jm)a=!1;else{var f=new Ucg(void 0);_.pca(a,f,Fbg,d,_.nlc,e);_.Zg(b,c,!1,d).set(_.Xg(f,1,0),_.t(f,d,2)||new d);a=!0}return a},function(a,b,c,d,e){Ebg(b,c,d,c,a,e)}),Ycg=function(a){_.Q.call(this,a)};_.K(Ycg,_.Q);Ycg.prototype.getName=function(){return _.y(this,2)};
Ycg.prototype.Zc=function(a){return _.p(this,2,a)};var Zcg=function(a){_.Q.call(this,a)};_.K(Zcg,_.Q);var $cg=[Ycg,1,_.Ah,2,_.Ah,3,_.Ah,5,_.Dh,7,Xcg,[Zcg,1,_.Ah]],adg=function(a){_.Q.call(this,a)};_.K(adg,_.Q);var bdg=[1],cdg=[adg,1,_.Ch,$cg,bdg],ddg=[5],q1=function(a){_.Q.call(this,a,-1,ddg)};_.K(q1,_.Q);var edg=function(a){_.Q.call(this,a)};_.K(edg,_.Q);edg.prototype.Qy=function(){return _.A(this,1)};edg.prototype.HC=function(){return _.y(this,5)};var fdg=function(a){_.Q.call(this,a)};_.K(fdg,_.Q);
fdg.prototype.Qy=function(){return _.A(this,1)};fdg.prototype.HC=function(){return _.y(this,4)};var gdg=function(a,b){return _.p(a,1,b)},hdg=function(a,b){_.p(a,3,b)},idg=function(a){_.Q.call(this,a)};_.K(idg,_.Q);idg.prototype.Qy=function(){return _.A(this,1)};idg.prototype.HC=function(){return _.y(this,4)};
var jdg=function(a,b){return _.p(a,1,b)},kdg=function(a,b){_.p(a,3,b)},ldg=function(a,b){return _.p(a,23,b)},mdg=function(a,b){return _.p(a,10,b)},ndg=function(a){var b=_.t(_.GK(a),fdg,13);b||(b=new fdg,a=_.GK(a),_.u(a,13,b));return b},r1=function(a){var b=_.t(_.GK(a),idg,14);b||(b=new idg,a=_.GK(a),_.u(a,14,b));return b},s1=function(a){_.Q.call(this,a)};_.K(s1,_.Q);s1.prototype.getTitle=function(){return _.y(this,1)};s1.prototype.setTitle=function(a){return _.p(this,1,a)};
s1.prototype.getMimeType=function(){return _.y(this,2)};s1.prototype.aj=function(){return _.y(this,6)};
var odg=function(a,b){return _.p(a,2,b)},pdg=function(a,b){return _.p(a,3,b)},qdg=function(a,b){return _.p(a,4,b)},rdg=function(a){return _.t(a,_.loc,5)},sdg=function(a,b){return _.u(a,5,b)},tdg=function(a,b){return _.p(a,6,b)},udg=function(a,b){return _.u(a,1,b)},t1=function(a,b){return{Qna:a,n$a:vdg,sBa:b,BOb:void 0,IKa:void 0,COb:void 0}},vdg=_.pb(function(a,b,c,d){if(2!==a.Jm)return!1;_.pca(a,_.rb(b,c.Lb,c.fieldIndex,!0),d);return!0},function(a,b,c,d){_.lca(a,c.fieldIndex,c.fq(b),d)}),wdg=_.pb(function(a,
b,c){if(0!==a.Jm)return!1;a=a.H.O()>>>0;_.db(b,c,a,0);return!0},function(a,b,c){b=_.y(b,c);null!=b&&null!=b&&(_.qb(a,c,0),_.oka(a.H,b))}),xdg={kec:0,Qbc:1,Rbc:2,0:"HTML_FORMATTED_CONTENT",1:"EMBEDDED_INTERNAL_CONTENT",2:"EMBEDDED_TRUSTED_EXTERNAL_CONTENT"},Ibg=function(a,b){var c=Error.call(this,a+" cannot be used with intent "+xdg[b]);this.message=c.message;"stack"in c&&(this.stack=c.stack);this.type=a;this.intent=b;this.name="TypeCannotBeUsedWithIntentError"};_.K(Ibg,Error);
ydg=function(){var a=[],b;for(b=0;10>b;b++)a[b]=_.Gfb[0|10*Math.random()];return a.join("")};_.$J=function(a){_.Q.call(this,a)};_.K(_.$J,_.Q);_.$J.prototype.vc=function(){return _.y(this,1)};var zdg=function(a,b){return _.p(a,1,b)};_.$J.prototype.Ag=function(){return _.y(this,2)};_.$J.prototype.H=function(){return _.t(this,_.Kl,3)};var Adg=function(a,b){return _.u(a,3,b)};_.$J.prototype.ue=function(){return _.t(this,_.cg,4)};var Bdg=function(a,b){return _.u(a,4,b)};
_.$J.prototype.tk=function(){return _.y(this,5)};_.tJ=function(a,b){this.H=a;this.metadata=b};j1=function(a){_.Q.call(this,a)};_.K(j1,_.Q);j1.prototype.mf=function(){return _.y(this,1)};var Qbg=[1],Pbg=function(a){_.Q.call(this,a)};_.K(Pbg,_.Q);var Sbg=function(a){_.Q.call(this,a)};_.K(Sbg,_.Q);Sbg.prototype.H=function(){return _.y(this,1)};var Cdg=[Sbg,1,_.Dh],Vbg=function(a){_.Q.call(this,a)};_.K(Vbg,_.Q);Vbg.prototype.H=function(){return _.y(this,1)};
var Ubg=function(a,b){return _.p(a,1,b)},Ddg=[Vbg,1,_.Dh],Tbg=[3],k1=function(a){_.Q.call(this,a)};_.K(k1,_.Q);_.h=k1.prototype;_.h.Upb=function(){return _.y(this,1)};_.h.loa=function(){return _.y(this,2)};_.h.Wca=function(){return _.jh(this,Sbg,3,Tbg)};_.h.fza=function(){return _.t(this,Vbg,4)};_.h.Vpb=function(){return _.Wg(this,5)};Edg=[k1,1,_.wh,2,_.Ah,3,_.Ch,Cdg,Tbg,4,_.Bh,Ddg,5,Vcg];
Fdg=function(a,b,c,d,e,f,g){var k=_.Tl(a),l=new _.Yrc(_.fh(k,59,2E3),_.fh(k,60,2E4),_.fh(k,61,6));d=new _.Bsc(f,e,c,d,_.fh(k,32,1073741824),_.fh(k,21,1E3));a=new _.Wrc(g,_.BI(_.CI(a)));g={};g[1]=_.Osc(b,c);g[2]=_.Psc(b,k,l,a,c);g[4]=_.Rsc(b,k,l,a,c);d=_.Nsc(d,a,c,_.dh(k,46,1));return g[5]=d,g[7]=_.Qsc(b,k,l,a,c,"xd4_batch"),g[8]=_.Qsc(b,k,l,a,c,"xd4_batch_one",1),g};_.juc=function(a,b){this.id=a;this.revisionId=b};
Gdg=function(a,b,c,d){_.Tj.call(this,"Te");this.requestId=a;this.H=b;this.response=c;this.error=d};_.K(Gdg,_.Tj);
var Idg=function(a){_.Q.call(this,a,-1,Hdg)};_.K(Idg,_.Q);var Hdg=[1];
var Jdg=function(a){_.Q.call(this,a)};_.K(Jdg,_.Q);var Kdg=function(){var a=new Jdg;return _.p(a,1,0)},Ldg=function(a,b){return _.p(a,3,b)},Mdg=function(a,b){return _.p(a,4,b)},Ndg=function(a,b){return _.u(a,6,b)},Odg=function(a,b){return _.p(a,7,b)};
var Pdg=function(a){_.Q.call(this,a,1)};_.K(Pdg,_.Q);
var Qdg=function(a){_.Q.call(this,a)};_.K(Qdg,_.Q);Qdg.prototype.getEmail=function(){return _.y(this,2)};Qdg.prototype.Tp=function(){return _.P(this,2)};var Rdg=[1];
var Sdg=function(a){_.Q.call(this,a)};_.K(Sdg,_.Q);Sdg.prototype.wG=function(){return _.y(this,1)};var Tdg=function(){var a=new Sdg;return _.p(a,1,1)};Sdg.prototype.getAuthToken=function(){return _.y(this,2)};var Udg=function(a,b){return _.p(a,2,b)};
var Vdg=function(a){_.Q.call(this,a)};_.K(Vdg,_.Q);var Wdg=_.sb(346438255,Vdg);
var u1=function(a){_.Q.call(this,a)};_.K(u1,_.Q);var Xdg=function(a,b){return _.p(a,1,b)},Ydg=function(a,b){return _.p(a,2,b)};u1.prototype.aj=function(){return _.y(this,3)};var Zdg=function(a,b){return _.p(a,3,b)};
var $dg=function(a){_.Q.call(this,a)};_.K($dg,_.Q);$dg.prototype.getMetadata=function(){return _.t(this,k1,1)};$dg.prototype.ko=function(){return _.Sg(this,1)};
var aeg=function(a){_.Q.call(this,a)};_.K(aeg,_.Q);
var ceg=function(a){_.Q.call(this,a,-1,beg)};_.K(ceg,_.Q);var beg=[5];
var deg=function(a){_.Q.call(this,a)};_.K(deg,_.Q);var eeg=function(a){var b=new deg;return _.u(b,1,a)},feg=function(a,b){return _.p(a,2,b)};
var geg=function(a){_.Q.call(this,a)};_.K(geg,_.Q);var heg=function(a){var b=new geg;return _.u(b,1,a)},ieg=function(a,b){return _.p(a,2,b)};geg.prototype.getMetadata=function(){return _.t(this,k1,3)};var jeg=function(a,b){return _.u(a,3,b)};geg.prototype.ko=function(){return _.Sg(this,3)};
var keg=function(a){_.Q.call(this,a)};_.K(keg,_.Q);var leg=function(a,b){return _.u(a,1,b)},meg=function(a,b){return _.u(a,2,b)},neg=function(a,b){return _.u(a,3,b)};
var oeg=function(a){_.Q.call(this,a)};_.K(oeg,_.Q);
var peg=function(a){_.Q.call(this,a)};_.K(peg,_.Q);
var qeg=function(a){_.Q.call(this,a)};_.K(qeg,_.Q);var reg=function(a){var b=new qeg;return _.p(b,1,a)};
var seg=function(a){_.Q.call(this,a)};_.K(seg,_.Q);
var teg=function(a){_.Q.call(this,a)};_.K(teg,_.Q);var ueg=function(a){var b=new teg;return _.p(b,1,a)};
var veg=function(a){_.Q.call(this,a)};_.K(veg,_.Q);veg.prototype.getError=function(){return _.Xg(this,1,0)};veg.prototype.We=function(a){return _.p(this,1,a)};veg.prototype.Qn=function(){return _.P(this,1)};var weg=[veg,1,_.Dh,2,_.Ah,3,_.Ah];
var xeg=function(a){_.Q.call(this,a,1)};_.K(xeg,_.Q);var yeg={},zeg=[xeg,yeg];
var v1=function(a){_.Q.call(this,a,1)};_.K(v1,_.Q);var w1={},Aeg=[v1,w1];
var Beg=function(a){_.Q.call(this,a,4)};_.K(Beg,_.Q);Beg.prototype.getError=function(){return _.t(this,veg,2)};Beg.prototype.We=function(a){return _.u(this,2,a)};Beg.prototype.Qn=function(){return _.Sg(this,2)};var Ceg={},Deg=[Beg,Ceg,2,_.Bh,weg,3,_.Bh,zeg];
var Eeg=function(a){_.Q.call(this,a)};_.K(Eeg,_.Q);var Feg=_.sb(347854608,Eeg);w1[347854608]=t1(Feg,[Eeg,1,_.Ah,2,_.Ah,3,_.Ah,4,_.Ah]);
var Geg=function(a){_.Q.call(this,a)};_.K(Geg,_.Q);var Heg=_.sb(347854609,Geg);Ceg[347854609]=t1(Heg,[Geg,1,Vcg]);
var Ieg=function(a){_.Q.call(this,a)};_.K(Ieg,_.Q);var Jeg=_.sb(347854610,Ieg);w1[347854610]=t1(Jeg,[Ieg,1,Vcg,2,_.Ah,3,_.Ah,4,_.Ah]);
var Keg=function(a){_.Q.call(this,a)};_.K(Keg,_.Q);var Leg=_.sb(347854611,Keg);Ceg[347854611]=t1(Leg,[Keg,1,_.Ah]);
var Meg=function(a){_.Q.call(this,a)};_.K(Meg,_.Q);Meg.prototype.mf=function(){return _.y(this,1)};Meg.prototype.H=function(a){return _.u(this,3,a)};var Neg=_.sb(346636283,Meg);w1[346636283]=t1(Neg,[Meg,1,_.Dh,2,_.Ah,3,_.Bh,cdg,4,_.Ah]);
var Oeg=function(a){_.Q.call(this,a)};_.K(Oeg,_.Q);Oeg.prototype.getAuthToken=function(){return _.y(this,1)};var Peg=_.sb(346636284,Oeg);Ceg[346636284]=t1(Peg,[Oeg,1,_.Ah]);
var Qeg=function(a){_.Q.call(this,a)};_.K(Qeg,_.Q);var Reg=function(a){var b=new Qeg;return _.p(b,1,a)},Seg=function(a,b){return _.p(a,2,b)},Teg=function(a,b){return _.p(a,3,b)},Ueg=[Qeg,1,_.Dh,2,_.wh,3,_.wh,4,_.Dh,5,_.Ah];
var Veg=function(a){_.Q.call(this,a)};_.K(Veg,_.Q);var Weg=[Veg];
var Xeg=function(a){_.Q.call(this,a)};_.K(Xeg,_.Q);var Yeg=function(a,b){_.p(a,5,b)},x1=function(a,b){_.p(a,7,b)},Zeg=[Xeg,1,_.wh,2,_.KI,3,_.wh,4,_.KI,5,_.Ah,6,_.wh,7,_.Dh,8,_.Dh];
var $eg=function(a){_.Q.call(this,a)};_.K($eg,_.Q);$eg.prototype.getStatus=function(){return _.y(this,1)};$eg.prototype.tc=function(a){return _.p(this,1,a)};var afg=[$eg,1,_.Dh,2,_.wh,3,_.wh,4,_.wh,5,_.Dh];
var bfg=function(a){_.Q.call(this,a)};_.K(bfg,_.Q);var cfg=[bfg,1,_.wh,2,_.wh,3,_.Bh,afg,4,_.Bh,afg];
var dfg=function(a){_.Q.call(this,a)};_.K(dfg,_.Q);var efg=[4,5],ffg=[dfg,1,_.xh,2,_.Ah,3,_.wh,4,_.Ch,Weg,efg,5,_.Ch,Zeg,efg,6,_.Bh,cfg,7,_.xh];
var Icg=function(a){_.Q.call(this,a)};_.K(Icg,_.Q);Icg.prototype.getType=function(){return _.y(this,1)};var gfg=[Icg,1,_.Dh,2,_.wh,3,_.Dh];
var hfg=function(a){_.Q.call(this,a)};_.K(hfg,_.Q);var ifg=function(a){var b=new hfg;return _.p(b,1,a)};hfg.prototype.aj=function(){return _.y(this,7)};var jfg=[hfg,1,_.Dh,2,_.Ah,3,_.wh,4,_.KI,5,_.Dh,6,_.Ah,7,_.Ah];
var kfg=function(a){_.Q.call(this,a)};_.K(kfg,_.Q);var lfg=[1,2,3,4],mfg=_.sb(398321895,kfg);w1[398321895]=t1(mfg,[kfg,1,_.Ch,jfg,lfg,2,_.Ch,ffg,lfg,3,_.Ch,Ueg,lfg,4,_.Ch,gfg,lfg]);
var nfg=function(a){_.Q.call(this,a)};_.K(nfg,_.Q);nfg.prototype.H=function(a){return _.u(this,2,a)};var ofg=_.sb(393450967,nfg);w1[393450967]=t1(ofg,[nfg,1,_.Ah,2,_.Bh,cdg,3,_.Ah]);
var pfg=function(a){_.Q.call(this,a)};_.K(pfg,_.Q);var qfg=_.sb(393450968,pfg);Ceg[393450968]=t1(qfg,[pfg,1,_.Ah,2,_.Ah,3,_.Ah,4,_.Ah,5,_.Dh]);var rfg=_.sb(394593106,Xeg);yeg[394593106]=t1(rfg,Zeg);
var sfg=function(a){_.Q.call(this,a)};_.K(sfg,_.Q);sfg.prototype.Aj=function(){return _.y(this,1)};var tfg=_.sb(393450969,sfg);w1[393450969]=t1(tfg,[sfg,1,_.Ah,2,_.Ah,3,_.Ah,4,_.Ah,5,_.Ah,6,_.Ah]);
var ufg=function(a){_.Q.call(this,a)};_.K(ufg,_.Q);var vfg=_.sb(393450970,ufg);Ceg[393450970]=t1(vfg,[ufg,1,_.Ah]);
var wfg=function(a){_.Q.call(this,a)};_.K(wfg,_.Q);var xfg=_.sb(393450971,wfg);w1[393450971]=t1(xfg,[wfg]);
var yfg=function(a){_.Q.call(this,a)};_.K(yfg,_.Q);yfg.prototype.getToken=function(){return _.y(this,1)};yfg.prototype.setToken=function(a){return _.p(this,1,a)};var zfg=_.sb(393450972,yfg);Ceg[393450972]=t1(zfg,[yfg,1,_.Ah]);var Afg=_.sb(394593107,bfg);yeg[394593107]=t1(Afg,cfg);
var Bfg=function(a){_.Q.call(this,a)};_.K(Bfg,_.Q);Bfg.prototype.getToken=function(){return _.y(this,1)};Bfg.prototype.setToken=function(a){return _.p(this,1,a)};var Cfg=_.sb(393450973,Bfg);w1[393450973]=t1(Cfg,[Bfg,1,_.Ah,2,_.KI]);
var Dfg=function(a){_.Q.call(this,a)};_.K(Dfg,_.Q);Ceg[391195174]=t1(_.sb(391195174,Dfg),[Dfg]);var Efg=_.sb(394593108,bfg);yeg[394593108]=t1(Efg,cfg);
var Ffg=function(a){_.Q.call(this,a)};_.K(Ffg,_.Q);Ffg.prototype.mf=function(){return _.y(this,1)};var Gfg=function(a,b){return _.p(a,1,b)},Hfg=function(a,b){return _.p(a,2,b)};
var Ifg=function(a){_.Q.call(this,a)};_.K(Ifg,_.Q);Ifg.prototype.getAuthToken=function(){return _.Tg(this,1,Jfg)};Ifg.prototype.getError=function(){return _.Tg(this,2,Jfg)};Ifg.prototype.We=function(a){return _.ah(this,2,Jfg,a)};Ifg.prototype.Qn=function(){return 2===_.gb(this,Jfg)};var Jfg=[1,2];
var Kfg=function(a){_.Q.call(this,a)};_.K(Kfg,_.Q);
var Lfg=function(a){_.Q.call(this,a)};_.K(Lfg,_.Q);
var Mfg=function(a){_.Q.call(this,a)};_.K(Mfg,_.Q);var Ybg=function(a){var b=new Mfg;return _.p(b,1,a)},Xbg=function(a,b){return _.p(a,2,b)};Mfg.prototype.vk=function(){return _.I(this,3)};Mfg.prototype.getError=function(){return _.I(this,7)};Mfg.prototype.We=function(a){return _.p(this,7,a)};Mfg.prototype.Qn=function(){return _.P(this,7)};
var Nfg=function(a,b,c){this.H=a;this.V=b;this.O=c};
Nfg.prototype.get=function(a){var b,c,d,e,f=this,g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:g=_.UK(f.H);k=_.y(f.H,4);if(g&&k){r.wf(2);break}return _.kg(r,f.O,3);case 3:l=r.O,g=_.y(l,4),k=_.y(l,3);case 2:var v=a.start%3,w=a.start-v,x=4/3*w;w=a.end-w+1;b=x;c=x+4/3*(w+(0<w%3?3-w%3:0))-1;d=v;e=v+(a.end-a.start+1);_.crc(f.H,g);v=udg(new _.PJ,f.H);n=_.p(v,2,b);c<4/3*k-1&&_.p(n,3,c);return _.kg(r,Ofg(f.V,n,f.O),4);case 4:return q=r.O,r.return(q.subarray(d,e))}})};
var y1=new Uint8Array([153,94,204,94]);
var p1=function(a,b,c){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);this.H=b;this.O=void 0===c?null:c};_.K(p1,Error);p1.prototype.getMessage=function(){return this.message};p1.prototype.name="CseError";
var o1=function(a,b){a=Error.call(this,b);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.K(o1,Error);o1.prototype.name="ArgumentError";
var z1=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.K(z1,Error);z1.prototype.name="InvalidOperationError";
var Pfg=function(a){this.V=a;this.O=y1.length};Pfg.prototype.H=function(a){var b=this,c,d,e;return _.rg(function(f){if(1==f.H)return _.mg(f,2),c=Math.min(a.length,b.O),_.kg(f,Qfg(b.V,a.subarray(c,a.length)),4);if(2!=f.H)return d=f.O,b.O-=c,f.return(d);e=_.og(f);if(e instanceof o1)throw new p1(e.message,6,e);if(e instanceof z1)throw new p1(e.message,8,e);throw new p1(e.message,7,e);})};
var ycg=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack)};_.K(ycg,Error);ycg.prototype.name="CseCrypterError";
/*

 Copyright 2020 Google LLC
 SPDX-License-Identifier: Apache-2.0
*/
var mcg=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,mcg.prototype)};_.K(mcg,Error);mcg.prototype.name="InvalidArgumentsException";
var l1=function(a){a=Error.call(this,a);this.message=a.message;"stack"in a&&(this.stack=a.stack);Object.setPrototypeOf(this,l1.prototype)};_.K(l1,Error);l1.prototype.name="SecurityException";
var icg=function(a){_.Q.call(this,a)};_.K(icg,_.Q);icg.prototype.Mj=function(){return _.eh(this,1)};var Rfg=function(a){Hbg(a);return _.Faa(_.Paa(_.I(a,3)))},kcg=[icg,1,wdg,3,Wcg];
var gcg=function(a){_.Q.call(this,a)};_.K(gcg,_.Q);gcg.prototype.Mj=function(){return _.eh(this,3)};var fcg=[gcg,2,wdg,3,wdg];
var Sfg=function(a){_.Q.call(this,a)};_.K(Sfg,_.Q);Sfg.prototype.Ya=function(){return _.Uja(this)};Sfg.prototype.Hb=function(a){return _.Vja(this,2,a)};
var m1=function(a){_.Q.call(this,a)};_.K(m1,_.Q);m1.prototype.Ya=function(){return _.Uja(this)};var Bcg=function(a){Hbg(a);return _.Faa(_.Paa(_.I(a,2)))};m1.prototype.Hb=function(a){return _.Vja(this,2,a)};var Tfg=[m1,1,_.zh,2,Wcg,3,_.Eh];
var rcg=function(a){_.Q.call(this,a,-1,Ufg)};_.K(rcg,_.Q);var Acg=function(a){return _.jb(a,n1,2)},n1=function(a){_.Q.call(this,a)};_.K(n1,_.Q);n1.prototype.getStatus=function(){return _.Xg(this,2,0)};n1.prototype.tc=function(a){return _.mh(this,2,a)};var Ufg=[2],Dcg=[rcg,1,wdg,2,_.xka,[n1,1,_.Bh,Tfg,2,_.Eh,3,wdg,4,_.Eh]];
var Vfg=function(a,b){b=[b];var c=b.concat;if(!Number.isInteger(a)||0>a||a>=Math.pow(2,32))throw new mcg("Number has to be unsigned 32-bit integer.");for(var d=Array(4),e=0;4>e;e++)d[e]=255&a>>8*(4-e-1);b=c.call(b,d);return new Uint8Array(b)},Wfg=new Uint8Array(0);
var Xfg=function(a,b,c){this.O=a;this.identifier=b;this.H=c};Xfg.prototype.sT=function(){return this.O};Xfg.prototype.Mx=function(){return this.identifier};var Yfg=function(a){this.O=a;this.primary=null;this.H=new Map};Yfg.prototype.Pca=function(){return this.O};var $fg=function(a,b){return(a=Zfg(a,b))?a:[]},Zfg=function(a,b){b instanceof Uint8Array&&(b=[].concat(_.Nf(b)).toString());return a.H.get(b)};
var bcg=new Map,ecg=new Map,agg=new Map;
var pcg=function(a){if(!a||!Acg(a)||1>Acg(a).length)throw new l1("Keyset should be non null and must contain at least one key.");for(var b=!1,c=Acg(a).length,d=0;d<c;d++){var e=Acg(a)[d];if(!e)throw new l1("Key should be non null.");if(!_.t(e,m1,1))throw new l1("Key data are missing for key "+_.eh(e,3)+".");if(0===_.Xg(e,4,0))throw new l1("Key "+_.eh(e,3)+" has unknown output prefix type.");if(0===e.getStatus())throw new l1("Key "+_.eh(e,3)+" has unknown status.");if(_.eh(a,1)===_.eh(e,3)&&1===e.getStatus()){if(b)throw new l1("Primary key has to be unique.");
b=!0}}if(!b)throw new l1("Primary key has to be in the keyset and has to be enabled.");this.H=a};pcg.prototype.sT=function(a,b){var c=this,d;return _.rg(function(e){if(1==e.H){if(!a)throw new mcg("primitive type must be non-null");return _.kg(e,bgg(c,a,b),2)}d=e.O;var f=e.return;if(!d)throw new l1("primitive set cannot be null.");var g=d.Pca(),k=agg.get(g);if(!k)throw new l1("no primitive wrapper found for type "+g);k=k.wrap(d);if(!(k instanceof g))throw new TypeError("Bq");return f.call(e,k)})};
var bgg=function(a,b,c){var d,e,f,g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:d=new Yfg(b),e=Acg(a.H),f=e.length,g=0;case 2:if(!(g<f)){r.wf(4);break}k=e[g];if(1!==k.getStatus()){r.wf(3);break}l=_.t(k,m1,1);if(!l)throw new l1("Key data has to be non null.");n=void 0;return c&&cgg()===_.I(l,1)?_.kg(r,c.sT(b,l),9):_.kg(r,dcg(b,l),8);case 8:n=r.O;r.wf(7);break;case 9:n=r.O;case 7:var v=n;if(!v)throw new l1("Primitive has to be non null.");if(!k)throw new l1("Key has to be non null.");a:switch(_.Xg(k,
4,0)){case 2:case 4:var w=Vfg(_.eh(k,3),0);break a;case 1:w=Vfg(_.eh(k,3),1);break a;case 3:w=Wfg;break a;default:throw new l1("Unsupported key prefix type.");}v=new Xfg(v,w,k.getStatus());w=v.Mx();w=[].concat(_.Nf(w)).toString();var x=Zfg(d,w);x?(x.push(v),d.H.set(w,x)):d.H.set(w,[v]);q=v;if(_.eh(k,3)===_.eh(a.H,1)){if(!q)throw new l1("Primary cannot be set to null.");if(1!=q.H)throw new l1("Primary has to be enabled.");v=$fg(d,q.Mx());w=!1;x=v.length;for(var z=0;z<x;z++)if(1===v[z].H){w=!0;break}if(!w)throw new l1("Primary cannot be set to an entry which is not held by this primitive set.");
d.primary=q}case 3:g++;r.wf(2);break;case 4:return r.return(d)}})};pcg.prototype.write=function(){return _.rg(function(){throw new l1("KeysetHandle -- write: Not implemented yet.");})};
var xcg=function(){};
var scg=[16,32];
var ucg=function(a){this.key=a};_.K(ucg,xcg);ucg.prototype.encrypt=function(a,b){var c=this,d,e,f;return _.rg(function(g){if(1==g.H)return tcg(a),null!=b&&tcg(b),d=jcg(12),e={name:"AES-GCM",iv:d,tagLength:128},b&&(e.additionalData=b),_.kg(g,self.crypto.subtle.encrypt(e,c.key,a),2);f=g.O;return g.return(acg(d,new Uint8Array(f)))})};
ucg.prototype.H=function(a,b){var c=this,d,e,f,g;return _.rg(function(k){if(1==k.H){tcg(a);if(28>a.length)throw new l1("ciphertext too short");null!=b&&tcg(b);d=new Uint8Array(12);d.set(a.subarray(0,12));e={name:"AES-GCM",iv:d,tagLength:128};b&&(e.additionalData=b);_.mg(k,2);f=Uint8Array;return _.kg(k,self.crypto.subtle.decrypt(e,c.key,new Uint8Array(a.subarray(12))),4)}if(2!=k.H)return k.return(new f(k.O));g=_.og(k);throw new l1(g.toString());})};
var dgg=function(){};
dgg.prototype.sT=function(a,b){var c=this,d;return _.rg(function(e){if(1==e.H){if(a!=c.Pca())throw new l1("Requested primitive type which is not supported by this key manager.");if(b instanceof m1){if("type.googleapis.com/google.crypto.tink.AesGcmKey"!=_.I(b,1))throw new l1("Key type "+_.I(b,1)+" is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");try{var f=Bcg(b);var g=_.uh(f,kcg)}catch(k){throw new l1("Could not parse the input as a serialized proto of type.googleapis.com/google.crypto.tink.AesGcmKey key.");}}else if(b instanceof
icg)g=b;else throw new l1("Key type is not supported. This key manager supports type.googleapis.com/google.crypto.tink.AesGcmKey.");d=g;hcg(Rfg(d).length);g=d.Mj();if(0>g||0<g)throw new l1("Version is out of bound, must be between 0 and 0.");return _.kg(e,vcg(Rfg(d)),2)}return e.return(e.O)})};var cgg=function(){return"type.googleapis.com/google.crypto.tink.AesGcmKey"};dgg.prototype.Pca=function(){return xcg};dgg.prototype.Mj=function(){return 0};
var ncg=function(){var a=new gcg;a=_.db(a,2,32,0);var b=new Sfg;b=_.lh(b,1,"type.googleapis.com/google.crypto.tink.AesGcmKey");return _.mh(b,3,3).Hb(_.vh(a,fcg))};
var wcg=function(a){this.H=a};wcg.prototype.read=function(){try{var a=_.uh(this.H,Dcg)}catch(b){throw new l1("Could not parse the given serialized proto as a keyset proto.");}if(0===Acg(a).length)throw new l1("Could not parse the given serialized proto as a keyset proto.");return a};
var egg=function(a,b){this.W=a;this.ka=b;this.ha=!1};egg.prototype.V=function(){return this.ka};egg.prototype.O=function(a){var b=this,c,d;return _.rg(function(e){if(1==e.H)return _.mg(e,2),_.kg(e,b.W.encrypt(a),4);if(2!=e.H)return c=e.O,e.return(fgg(b,c));d=_.og(e);if(d instanceof o1)throw new p1(d.message,6,d);if(d instanceof z1)throw new p1(d.message,8,d);throw new p1(d.message,7,d);})};
egg.prototype.H=function(a){var b=this,c,d;return _.rg(function(e){if(1==e.H)return _.mg(e,2),_.kg(e,ggg(b.W,a),4);if(2!=e.H)return c=e.O,e.return(fgg(b,c));d=_.og(e);if(d instanceof o1)throw new p1(d.message,6,d);if(d instanceof z1)throw new p1(d.message,8,d);throw new p1(d.message,7,d);})};var fgg=function(a,b){if(!a.ha&&0<b.length){var c=new Uint8Array(b.length+y1.length);c.set(y1,0);c.set(b,y1.length);a.ha=!0;return c}return b};
var hgg=function(a){this.H=a},kgg=function(a,b,c){var d,e,f,g;return _.rg(function(k){switch(k.H){case 1:try{var l=a.H;d=igg(b,l.V,l.O,l.H)}catch(n){throw new p1(n.message,6,n);}l=d.H;e=new _.tS(l.start+y1.length,l.end+y1.length);return _.kg(k,c.get(e),2);case 2:return f=k.O,_.mg(k,3),_.kg(k,jgg(a.H,b,f),5);case 5:return k.return(k.O);case 3:g=_.og(k);if(g instanceof o1)throw new p1(g.message,6,g);if(g instanceof z1)throw new p1(g.message,8,g);throw new p1(g.message,7,g);}})};hgg.prototype.ha=function(){return this.H.ha()};
var lgg=function(a,b,c,d,e){p1.call(this,a,b,void 0===e?null:e)};_.K(lgg,p1);lgg.prototype.name="KaclsError";
var mgg=function(a){this.O=a};_.K(mgg,xcg);mgg.prototype.encrypt=function(a,b){var c=this,d,e,f,g,k;return _.rg(function(l){if(1==l.H){if(!a)throw new l1("Plaintext has to be non-null.");d=c.O.primary;if(!d)throw new l1("Primary has to be non-null.");e=d.sT();return _.kg(l,e.encrypt(a,b),2)}f=l.O;g=d.Mx();k=new Uint8Array(g.length+f.length);k.set(g,0);k.set(f,g.length);return l.return(k)})};
mgg.prototype.H=function(a,b){var c=this,d,e,f,g,k,l;return _.rg(function(n){switch(n.H){case 1:if(!a)throw new l1("Ciphertext has to be non-null.");if(!(5<a.length)){n.wf(2);break}d=a.subarray(0,5);return _.kg(n,$fg(c.O,d),3);case 3:return e=n.O,f=a.subarray(5,a.length),_.mg(n,4),_.kg(n,ngg(e,f,b),6);case 6:g=n.O;_.ng(n,5);break;case 4:_.og(n);case 5:if(g)return n.return(g);case 2:return _.kg(n,$fg(c.O,Wfg),7);case 7:return k=n.O,_.kg(n,ngg(k,a,b),8);case 8:return l=n.O,n.return(l)}})};
var ngg=function(a,b,c){var d,e,f,g;return _.rg(function(k){switch(k.H){case 1:d=a.length,e=0;case 2:if(!(e<d)){k.wf(4);break}if(1!=a[e].H){k.wf(3);break}f=a[e].sT();g=void 0;_.mg(k,5);return _.kg(k,f.H(b,c),7);case 7:g=k.O;_.ng(k,6);break;case 5:_.og(k);k.wf(3);break;case 6:return k.return(g);case 3:e++;k.wf(2);break;case 4:throw new l1("Decryption failed for the given ciphertext.");}})},ogg=function(){};
ogg.prototype.wrap=function(a){if(!a)throw new l1("Primitive set has to be non-null.");if(!a.primary)throw new l1("Primary has to be non-null.");return new mgg(a)};ogg.prototype.Pca=function(){return xcg};
var pgg=function(a,b,c){this.V=new Uint8Array(a);this.ka=a;this.W=b;this.H=0;this.O=c;this.ha=!1};pgg.prototype.PB=function(){return _.rg(function(a){_.lg(a)})};
pgg.prototype.update=function(a){var b=this,c,d,e,f,g,k,l,n;return _.rg(function(q){switch(q.H){case 1:if(b.ha)throw new z1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(1073741824<b.O+Math.ceil((a.length+b.H)/b.ka))throw new z1("Cannot update cipher. Cipher reaching chunk count limit.");var r=a.length+b.H;c=new Uint8Array(0>=r?0:Math.floor((r-1)/b.ka)*b.W);e=d=0;f=a.length;case 2:if(!(f>b.V.length-b.H)){q.wf(3);break}g=qgg(b.O,!1);k=b.V.length-b.H;l=a.subarray(e,
e+k);b.V.set(l,b.H);b.H=0;e+=k;f-=k;return _.kg(q,b.PB(b.V,g),4);case 4:n=q.O;if(n.length!==b.W)throw new ycg("Update internal returned unexpected chunk size: expected "+b.W+" actual "+n.length);c.set(n,d);d+=n.length;b.O+=1;q.wf(2);break;case 3:return b.V.set(a.subarray(e,e+f),b.H),b.H+=f,q.return(c)}})};
var rgg=function(a,b){var c,d,e;return _.rg(function(f){if(1==f.H){if(a.ha)throw new z1("The final chunk has already been flushed. Cannot do additional crypto operations.");if(0<a.V.length-a.H&&!b)throw new z1("Cannot flush partial chunk unless it is the last chunk");if(0===a.H&&0!==a.O)throw new z1("Cannot flush empty chunk at non-zero chunk index");c=a.V.subarray(0,a.H);d=qgg(a.O,b);return _.kg(f,a.PB(c,d),2)}e=f.O;a.H=0;a.O+=1;b&&(a.ha=!0);return f.return(e)})},qgg=function(a,b){var c=new ArrayBuffer(5),
d=new DataView(c);d.setUint32(0,a,!1);d.setUint8(4,b?1:0);return new Uint8Array(c)};
var sgg=function(a,b,c,d){pgg.call(this,c,b,d);this.na=a};_.K(sgg,pgg);sgg.prototype.PB=function(a,b){var c=this,d;return _.rg(function(e){if(1==e.H)return _.mg(e,2),_.kg(e,c.na.H(a,b),4);if(2!=e.H)return e.return(e.O);d=_.og(e);throw new ycg(d.message);})};
var tgg=function(a,b,c){this.W=a;this.O=b;this.H=0;this.V=c},ugg=function(a,b,c,d,e,f){var g,k;return _.rg(function(l){if(1==l.H)return _.kg(l,zcg(a,b),2);g=l.O;k=new sgg(g,d,e,0);return l.return(new tgg(c,k,f))})},Qfg=function(a,b){var c,d,e,f,g,k,l;return _.rg(function(n){switch(n.H){case 1:c=Seg(Reg(3),b.length);d=Date.now();e=a.W-a.H;if(b.length>e)throw vgg(a,_.p(c,4,2)),new o1("ciphertext","Expected at most "+e+" bytes of ciphertext, got "+b.length+" bytes");_.mg(n,2);return _.kg(n,a.O.update(b),
4);case 4:f=n.O;if(b.length!==e){n.wf(5);break}return _.kg(n,rgg(a.O,!0),6);case 6:g=n.O,k=f,f=new Uint8Array(k.length+g.length),f.set(k,0),f.set(g,k.length);case 5:a.H+=b.length;_.ng(n,3);break;case 2:throw l=_.og(n),l instanceof z1?_.p(c,4,4):_.p(c,4,3),vgg(a,c),l;case 3:return vgg(a,Teg(_.p(c,4,1),Date.now()-d)),n.return(f)}})},vgg=function(a,b){a.V&&a.V.O(b.clone())};
var wgg=function(a,b,c,d){pgg.call(this,b,c,d);this.na=a};_.K(wgg,pgg);wgg.prototype.PB=function(a,b){var c=this,d;return _.rg(function(e){if(1==e.H)return _.mg(e,2),_.kg(e,c.na.encrypt(a,b),4);if(2!=e.H)return e.return(e.O);d=_.og(e);throw new ycg(d.message);})};
var xgg=function(a,b,c,d){this.W=a;this.V=b;this.H=c;this.O=d},ygg=function(a,b,c){var d,e,f,g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:return d=Reg(1),e=Date.now(),_.mg(r,2),r.wf(5);case 4:return _.kg(r,Ecg(),7);case 7:g=r.O;f=1;r.wf(6);break;case 5:return _.kg(r,Ccg(),8);case 8:g=r.O;f=2;r.wf(6);break;case 6:_.ng(r,3);break;case 2:throw k=_.og(r),c&&c.O(_.p(d,4,3)),k;case 3:return l=Ubg(new Vbg,f),c&&c.O(Teg(_.p(d,4,1),Date.now()-e)),_.kg(r,zcg(g,l),9);case 9:return n=r.O,q=new wgg(n,
a,b,0),r.return(new xgg(g,l,q,c))}})};xgg.prototype.getKey=function(){return this.W};xgg.prototype.encrypt=function(a){var b=this,c,d,e,f;return _.rg(function(g){switch(g.H){case 1:return c=Seg(Reg(2),a.length),d=Date.now(),_.mg(g,2),_.kg(g,b.H.update(a),4);case 4:e=g.O;_.ng(g,3);break;case 2:throw f=_.og(g),f instanceof z1?_.p(c,4,4):_.p(c,4,3),zgg(b,c),f;case 3:return zgg(b,Teg(_.p(c,4,1),Date.now()-d)),g.return(e)}})};
var ggg=function(a,b){var c,d,e,f,g,k;return _.rg(function(l){switch(l.H){case 1:return c=Seg(Reg(2),b.length),d=Date.now(),_.mg(l,2),_.kg(l,a.H.update(b),4);case 4:return f=l.O,_.kg(l,rgg(a.H,!0),5);case 5:g=l.O;e=new Uint8Array(f.length+g.length);e.set(f,0);e.set(g,f.length);_.ng(l,3);break;case 2:throw k=_.og(l),k instanceof z1?_.p(c,4,4):_.p(c,4,3),zgg(a,c),k;case 3:return zgg(a,Teg(_.p(c,4,1),Date.now()-d)),l.return(e)}})},zgg=function(a,b){a.O&&a.O.O(b.clone())};
var Agg=function(a,b){this.O=a;this.H=b},igg=function(a,b,c,d){if(0>=b)throw new o1("plaintextSize","Original plaintext size must be greater than zero");if(0>a.start)throw new o1("plaintextRange","Invalid lower bound for plaintext range");if(a.end>=b)throw new o1("plaintextRange","Invalid upper bound for plaintext range");var e=Math.floor(a.start/c);a=Math.floor(a.end/c)+1;var f=d-c;return new Agg(new _.tS(e*c,Math.min(b,a*c)-1),new _.tS(e*d,Math.min(0===b?f:b+Math.ceil(b/c)*f,a*d)-1))};
var Bgg=function(a,b,c,d,e,f){this.ka=a;this.V=b;this.na=c;this.O=d;this.H=e;this.W=f},Cgg=function(a,b,c,d,e,f,g){var k;return _.rg(function(l){if(1==l.H)return _.kg(l,zcg(a,b),2);k=l.O;return l.return(new Bgg(k,c,d,e,f,g))})},jgg=function(a,b,c){var d,e,f,g,k,l,n,q,r,v,w,x,z,C,F,M,L;return _.rg(function(R){switch(R.H){case 1:d=Seg(Reg(3),c.length);e=Date.now();try{f=igg(b,a.V,a.O,a.H)}catch(X){throw Dgg(a,_.p(d,4,2)),X;}g=f.O;k=f.H;l=g.Eo()+1;n=k.Eo()+1;if(c.length!==n)throw Dgg(a,_.p(d,4,2)),new o1("ciphertext",
"Length of ciphertext does not match encompassing ciphertext range");q=Math.floor(k.start/a.H);r=k.end===a.na-1;v=new sgg(a.ka,a.O,a.H,q);_.mg(R,2);return _.kg(R,v.update(c),4);case 4:return x=R.O,_.kg(R,rgg(v,r),5);case 5:z=R.O;C=new Uint8Array(x.length+z.length);C.set(x,0);C.set(z,x.length);if(C.length!==l)throw new ycg("Decrypted data size does not match encompassing plaintext size: expected "+l+" actual "+C.length);F=b.start-g.start;M=g.end-b.end;w=C.subarray(F,C.length-M);_.ng(R,3);break;case 2:throw L=
_.og(R),L instanceof z1?_.p(d,4,4):_.p(d,4,3),Dgg(a,d),L;case 3:return Dgg(a,Teg(_.p(d,4,1),Date.now()-e)),R.return(w)}})};Bgg.prototype.ha=function(){return this.V};var Dgg=function(a,b){a.W&&a.W.O(b.clone())};
var Egg=new ogg;if(!Egg)throw new l1("primitive wrapper cannot be null");var Fgg=Egg.Pca();if(!Fgg)throw new l1("primitive wrapper cannot be undefined");if(agg.has(Fgg)&&!(agg.get(Fgg)instanceof Egg.constructor))throw new l1("primitive wrapper for type "+Fgg+" has already been registered and cannot be overwritten");agg.set(Fgg,Egg);var Ggg=new dgg,Hgg;void 0===Hgg&&(Hgg=!0);if(!Ggg)throw new l1("Key manager cannot be null.");var Igg=cgg();
if(bcg.has(Igg)){if(!(bcg.get(Igg)instanceof Ggg.constructor))throw new l1("Key manager for key type "+Igg+" has already been registered and cannot be overwritten.");if(!ecg.get(Igg)&&Hgg)throw new l1("Key manager for key type "+Igg+" has already been registered with forbidden new key operation.");ecg.set(Igg,Hgg)}bcg.set(Igg,Ggg);ecg.set(Igg,Hgg);
var Jgg=function(a,b){this.O=a;this.H=a+28;this.V=b},Kgg=function(a){return _.rg(function(b){return 1==b.H?_.kg(b,ygg(a.O,a.H,a.V),2):b.return(b.O)})},Lgg=function(a,b,c,d){return _.rg(function(e){return 1==e.H?_.kg(e,ugg(b,c,d,a.O,a.H,a.V),2):e.return(e.O)})},Mgg=function(a,b,c,d){var e;return _.rg(function(f){return 1==f.H?(e=Fcg(d,a.O,a.H),_.kg(f,Cgg(b,c,e,d,a.O,a.H,a.V),2)):f.return(f.O)})};
var Ngg=function(){};
Ngg.prototype.getAuthToken=function(a){var b,c,d,e,f,g,k,l,n,q;return _.rg(function(r){if(1==r.H)return b={aud:"test_kacl",iss:"google-cse-test-authn",email:a.getEmail(),email_verified:!0},c={alg:"RS256",typ:"JWT",kid:"test_authn"},d=_.vI(JSON.stringify(c),4),b.IJb=Math.round(Date.now()/1E3)-1,b.exp=Math.round(b.IJb+3600),e=d+"."+_.vI(JSON.stringify(b),4),f={alg:"RS256",d:"DI4nXowkE3RIcp07CI7NWkOHxe92sFVjgK1XqEikAXH1HK7jBxp9dF5cMKelWsu0GnqSTAMzus04hQ0lBGhGTwVTabMUkGhMRd8QrKWMXbH-DIyDOZtA9ZTg439pIKF-ZOIk2mxEt0P91EmFSq3grIW2xdbDHfnuZEZoPQ6GfMeICwBIIxoNAEbEuPyacVl6WDpfLX3qwtcushPrIo4Jkcbvq2hGk7aj5GX4cr0K1U9Ctlv5G1jSFhzdouSog4GLL2XmxyRDlzSsCxoBTViscitRYV_hHdKDBZWEzOddUoFW_xWTLXm0dlRHFDJMFF8JDuXBkcsJzaal2_Puko3Lpw",dp:"BigtEVDe7kfnEhnp6ZqOG7GHOc11-ZPcoGWq_hd75sFs_nU0-MdD6xDMaQ3AuMm5lRY6cjhSQlKjNf6Qj6yBrxE4l0bbh5uVzU2gpnhTuvWNgd1ENLBqoQ-y7YcOLt5fWUwDHZDPX8JWkZ_BUumjklY6hCkYXZ3BSm7UN_qciic",
dq:"N_7PJ42DLwJbmIlAGdQnLoxFLXEHzRbFr5Arass6ZjrtyabZ6T1hQxhjc8Vil72PHbDQ4_Beh1p5-RCBOhrm7667jsJWNei8Qmu-Abz-06OfjtBx_nzNic7Gc4sh-Cc5dU-UdX9hit2_ruBkFOIphjlTjhyFOoRvk58ZkS7bduM",e:"AQAB",ext:!0,key_ops:["sign"],kty:"RSA",n:"yU4wVOVDxYat-sgUp5Zmd32bUfdVYh1c-nKSN7JbYett_K437Y58n_IBgQntbTLxcy_96DtbaJ7Jf2ZPcwnIp1MLDkd6MLesdlRFgE-6jwG00LfeD-AYGitOh7zmWwpN32dKqLuV4CpoC7vVDGFJVVuNW_FnitKFulfG2Q-I9aSUhXoHvsqMKK9T2YSXQZa79Xh2PgErhn_X0kwoKgf8D_VLZcZWIXSVBq06fOBFW5-0sIIFGyOqWadtT98n-iQZ5XNHPXlYI-Geejk3B62YY5ND1_87poRUOavZzw5LB54dMLL4_WA32QVT72GUeeLwkwYQ30_tUyl2ZiEl_QlVeQ",
p:"_fAWJqfp8-Pc4RCYpvuaitDxjblmJf6-eI5SIExdKKbd_M9qKuSQFWG1OOW0C1l5cd9hitZZrfrE-a4_MU9SlF1jKVDYSAiaznKzfVaMDHNtntDOiGW1zm6EoMhfCo--Nv7wTfbOobSni7uFV_Vx5jDKvG7tQ9iDfn0f3k0Xzk8",q:"yvCvLuIRiJ9GMEmDCaw7x9FHODEdJp01rHjUSGhhwpshzQQHTme_ynQYPSt7KsxwOcJlr5P9OKf6DC6GGmsuzAZx3wqIRzkKa_X7od7aOV7MNLhytndJaZKgi1Olf6uIv96dWwNBtLQOR2_eGRbtBWCldVkUjnFBwoMGcgaptbc",qi:"BmuZNEO4_Jlu58O4bunxxMxIOiDoaO72uYyRhcWBqiX4oAJ7GHKN9qP5poq3Uywwnfn8uzOdJe2AoihNPMRSvXvHDyMhIZnMuWIWwhZh4EDmep7b8ELZd_hUKdsu_3TiqHiwfugb8nPsu_jzzLAe1tStt2B5aNSTWQsvvjxVl90"},
_.kg(r,window.crypto.subtle.importKey("jwk",f,{name:"RSASSA-PKCS1-v1_5",hash:"SHA-256"},!1,["sign"]),2);if(3!=r.H)return g=r.O,k=new TextEncoder,_.kg(r,crypto.subtle.sign("RSASSA-PKCS1-v1_5",g,k.encode(e)),3);l=r.O;n=e+"."+_.ab(new Uint8Array(l),4);q=Udg(Tdg(),n);return r.return(q)})};
var Ogg=function(){this.Yd=null;this.H=0};Ogg.prototype.V=function(a,b,c,d){this.Yd=a;this.H=b;_.p(d,2,1E3*b-c);return Promise.resolve()};Ogg.prototype.O=function(a,b){if(!this.Yd)return Promise.resolve(null);if(1E3*this.H<=a)return _.p(b,1,0),Promise.resolve(null);_.p(b,1,1E3*this.H-a);return Promise.resolve(this.Yd)};
var A1=function(a,b,c,d){d=void 0===d?null:d;p1.call(this,a,b,void 0===c?null:c);this.V=d};_.K(A1,p1);A1.prototype.name="IdpError";
var Pgg=function(){};
Pgg.prototype.exchange=function(a,b,c,d,e,f){var g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:return g=_.oma({grant_type:"authorization_code",code:a,redirect_uri:e,client_id:f,code_verifier:b}),_.mg(r,2),_.kg(r,_.ba.fetch(d,{method:"POST",mode:"cors",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:g}),4);case 4:return l=r.O,_.kg(r,l.json(),5);case 5:k=r.O;_.ng(r,3);break;case 2:throw n=_.og(r),new A1("Auth code exchange fetch request failed",20,n,c);case 3:q=k.id_token;if(!q)throw new A1("ID token is missing from response: "+
JSON.stringify(k),20,null,c);return r.return(q)}})};
var Qgg=function(a,b,c,d,e,f,g,k,l,n,q){this.na=a.endsWith("/")?a.slice(0,-1):a;this.ta=b.endsWith("/")?b.slice(0,-1):b;this.W=c;this.V=d;this.ka=e;this.H=f;this.O=g;this.ha=k;this.Mb=l;this.Da=n;this.wa=q},Rgg=function(a,b,c,d,e,f,g){var k,l,n,q;return _.rg(function(r){if(1==r.H){k=Gcg();l=Gcg();q=n="";if(2!==g)return r.wf(2);var v=new Uint8Array(32);window.crypto.getRandomValues(v);q=_.ab(v,4);return _.kg(r,Hcg(q),3)}2!=r.H&&(n=r.O);return r.return(new Qgg(a,b,c,d,e,f,g,k,l,q,n))})},Sgg=function(a,
b){return _.rg(function(c){return c.return(Rgg(a.na,a.ta,a.W,a.V,b,a.H,a.O))})};Qgg.prototype.getState=function(){return this.Mb};Qgg.prototype.getEmail=function(){return this.ka};
var Tgg=function(a,b){a:switch(a.O){case 1:var c="id_token";break a;case 2:c="code";break a;default:throw Error("Fq`"+a.O);}c={response_type:c,response_mode:2===a.O?"query":"fragment",scope:"openid email",login_hint:a.ka,client_id:a.W,state:a.getState(),nonce:a.ha,redirect_uri:a.V};b&&(c.prompt="none");2===a.O&&(c.code_challenge_method="S256",c.code_challenge=a.wa);return _.Hi(new _.Di(a.na),_.enc(c))};
var Ugg=function(a){var b=a.lastIndexOf("@");return 0<b?a.substring(b+1,a.length):""};
var Vgg=function(a,b){this.H=new Map;this.W=a;this.O=b};
Vgg.prototype.V=function(a,b){var c=this,d,e,f,g,k,l,n,q,r;return _.rg(function(v){switch(v.H){case 1:d=Ugg(a);if(!d)throw new p1(a+" is not a valid email address.",1);return _.kg(v,Wgg(c,d,a),2);case 2:if(e=v.O)return v.return(e);if(!c.O){v.wf(3);break}return _.kg(v,c.O(d),4);case 4:f=v.O;case 3:return g=f?5E3:1E4,k="google.com"===d?"https://krahsc.google.com/.well-known/cse-configuration":"https://cse."+d+"/.well-known/cse-configuration",l=Date.now(),_.mg(v,5,6),_.kg(v,Xgg(k,g),8);case 8:n=v.O;
case 6:_.pg(v);var w=Date.now()-l;_.p(b,1,w);_.qg(v,7);break;case 5:q=_.og(v);if(f)q&&"AbortError"===q.name?_.p(b,8,3):_.p(b,8,1);else throw x1(b,7),new p1("Unable to get CSE configuration content from "+k,14,q);v.wf(6);break;case 7:n&&_.p(b,2,n.status);if(n&&!n.ok)if(f)_.p(b,8,2);else throw x1(b,7),new p1("Fetching content from "+k+" failed with "+n.status+" status",14);return(r=!n||!n.ok)?_.kg(v,Ygg(c,d,a,b,f),12):_.kg(v,Zgg(c,n,d,a,b),11);case 11:return v.return(v.O);case 12:return v.return(v.O)}})};
var Ygg=function(a,b,c,d,e){var f,g,k,l,n,q;return _.rg(function(r){if(!e)throw x1(d,7),new p1("No D3 IDP setting found during fallback.",14);if(!_.Ug(e,1,bdg))throw x1(d,8),new p1("D3 IDP setting does not include OIDC configuration.",15);f=_.jh(e,Ycg,1,bdg);g=_.y(f,1);k=f.getName()||"";l=_.y(f,3);n=_.P(f,5)?_.y(f,5):1;return(q=$gg(g,k,l))?(x1(d,8),r.return(Promise.reject(q))):r.return(ahg(a,g,k,l,n,b,c,d))})},Zgg=function(a,b,c,d,e){return b.json().catch(function(f){x1(e,8);return Promise.reject(new p1("Failed to parse CSE configuration content to json.",
15,f))}).then(function(f){var g=f.client_id,k=f.discovery_uri,l=f.name||"";(f=f.grant_type)||(f="implicit");switch(f){case "implicit":f=1;break;case "authorization_code":f=2;break;default:return x1(e,8),Promise.reject(new p1("CSE configuration includes unknown grant_type: "+f,15))}var n=$gg(k,l,g);return n?(x1(e,8),Promise.reject(n)):ahg(a,k,l,g,f,c,d,e)})},ahg=function(a,b,c,d,e,f,g,k){return bhg(b,c,e,k).then(function(l){return Rgg(l.cub,l.f1b,d,a.W,g,c,e)}).then(function(l){a.H.set(f,{Xwb:Date.now(),
entry:l});return l})},bhg=function(a,b,c,d){var e=Date.now();return _.ba.fetch(a,{referrerPolicy:"origin"}).catch(function(f){x1(d,5);return Promise.reject(new A1("Unable to get OIDC content from "+a,12,f,b))}).then(function(f){_.p(d,4,f.status);return f.ok?chg(f,b,c,d):(x1(d,14),Promise.reject(new A1("Fetching content from "+a+" failed with "+f.status+" status",31,null,b)))}).finally(function(){var f=Date.now()-e;return _.p(d,3,f)})},chg=function(a,b,c,d){return a.json().catch(function(e){x1(d,6);
return Promise.reject(new A1("Failed to parse discovery configuration content to json.",13,e,b))}).then(function(e){var f=e.authorization_endpoint,g=e.token_endpoint,k=e.response_types_supported;return(e=e.authorization_endpoint&&e.token_endpoint?k&&0!==k.length?1===c&&!k.includes("id_token")||2===c&&!k.includes("code")?new A1("response_type is not supported by the OIDC provider: "+c,13,null,b):null:new A1('"response_types_supported" is null or empty in OIDC configuration',13,null,b):new A1('OIDC configuration content does not include the required "authorization_endpoint" or "token_endpoint" field.',
13,null,b))?(x1(d,6),Promise.reject(e)):{cub:f,f1b:g}})},Wgg=function(a,b,c){var d;return _.rg(function(e){if(d=a.H.get(b))if(864E5<Date.now()-d.Xwb)a.H.delete(b);else return e.return(Sgg(d.entry,c));return e.return(null)})},$gg=function(a,b,c){return c&&a?null:new A1('CSE configuration content does not include the required "client_id" and "discovery_uri" field.',15,null,b)},Xgg=function(a,b){var c,d,e,f;return _.rg(function(g){switch(g.H){case 1:var k=_.ba.AbortController?new _.ba.AbortController:
void 0;(c=k)&&(d=setTimeout(function(){return c.abort()},b));_.mg(g,2,3);e={referrerPolicy:"origin"};c&&(e.signal=c.signal);return _.kg(g,_.ba.fetch(a,e),5);case 5:return g.return(g.O);case 3:_.pg(g);d&&clearTimeout(d);_.qg(g,0);break;case 2:throw f=_.og(g),f;}})};
var dhg={interaction_required:10,login_required:10,account_selection_required:10,consent_required:10,invalid_request_uri:18,invalid_request_object:18,request_not_supported:18,request_uri_not_supported:18,registration_not_supported:18,invalid_request:18,unauthorized_client:18,access_denied:18,unsupported_response_type:18,invalid_scope:18,server_error:19,temporarily_unavailable:19};
var ehg=function(a){this.H=a};ehg.prototype.getToken=function(){return this.H};ehg.prototype.getEmail=function(){var a=B1(this);return a.google_email||a.email};ehg.prototype.SL=function(){var a=_.wg()/1E3;return B1(this).iat-60>a||B1(this).exp-60<a};var B1=function(a){return JSON.parse(atob(a.H.split(".")[1]))},fhg=function(a,b){a=a.getEmail();return!!a&&a.toLowerCase()===b.toLowerCase()};
var hhg=function(a,b,c){var d=this;this.H=a;this.Qa=b;this.Ga=function(e){return ghg(d,e)};this.W=!1;this.ha=this.Ia=this.ka=null;this.O=c?c:new Xeg;this.Ka=Date.now()},jhg=function(a){if(a.W)return a.ka;a.W=!0;a.Ka=Date.now();a.ka=ihg(a);window.addEventListener("message",a.Ga,!1);a.ta();return a.ka},khg=function(a){a.W=!1;a.wa();window.removeEventListener("message",a.Ga,!1);var b=Date.now()-a.Ka;_.p(a.O,6,b)},lhg=function(a,b){a.ha(b);khg(a)},ihg=function(a){return new Promise(function(b,c){a.Ia=
b;a.ha=c})},ghg=function(a,b){var c,d,e,f,g,k,l,n,q,r,v,w;return _.rg(function(x){switch(x.H){case 1:c=b;if(!a.Da(c))return x.return();d=c.data;if(a.H.getState()!==d.state)return x.return();if(e=d.error){var z=dhg[e];f=z?z:18;g=e+": "+d.error_description;mhg(a,f);lhg(a,new A1(g,f,null,a.H.H));return x.return()}k=d.code;l="";if(!k){x.wf(2);break}_.mg(x,3);return _.kg(x,a.Qa.exchange(k,a.H.Da,a.H.H,a.H.ta,a.H.V,a.H.W),5);case 5:l=x.O;_.ng(x,2);break;case 3:return n=_.og(x),mhg(a,20),lhg(a,n),x.return();
case 2:q=l||d.token;if(!q)return x1(a.O,9),lhg(a,new A1("Missing JWT from callback",16,null,a.H.H)),x.return();r=new ehg(q);try{v=B1(r)}catch(C){return x1(a.O,9),lhg(a,new A1("Unparsable JWT from callback",16,null,a.H.H)),x.return()}z=a.H.ha;if(B1(r).nonce!=z)return x1(a.O,9),lhg(a,new A1("JWT from callback has mismatching nonce. Want: "+a.H.ha+", got: "+v.nonce,16,null,a.H.H)),x.return();w=Math.floor(Date.now()/1E3);if(B1(r).iat-60>w)return x1(a.O,9),lhg(a,new A1("JWT from callback has invalid issuance date: iat is "+
v.iat+", must be before "+w,16,null,a.H.H)),x.return();if(B1(r).exp-60<w)return x1(a.O,9),lhg(a,new A1("JWT from callback is expired: exp is "+v.iat+", must be after "+w,16,null,a.H.H)),x.return();a.Ia(r);khg(a);_.lg(x)}})},mhg=function(a,b){switch(b){case 11:b=4;break;case 10:b=3;break;case 18:b=10;break;case 19:b=11;break;case 20:b=12;break;default:b=0}x1(a.O,b)};
var nhg=function(a,b,c){hhg.call(this,a,b,c);this.V=null;this.na=0};_.K(nhg,hhg);nhg.prototype.ta=function(){this.V=_.ci(Tgg(this.H,!1).toString(),window,_.Oh("_blank"));Yeg(this.O,_.Pi(Tgg(this.H,!1),"login_hint").toString());this.V?ohg(this):(x1(this.O,13),this.ha(new A1("Unable to open the popup.",25,null,this.H.H)))};nhg.prototype.wa=function(){this.V&&!this.V.closed&&(_.hk(this.na),this.V.close(),ohg(this))};nhg.prototype.Da=function(a){return a.origin==(new URL(this.H.V)).origin};
var ohg=function(a){a.V.closed?(a.V=null,a.W&&(x1(a.O,4),a.ha(new A1("Popup was closed before authentication completed.",11,null,a.H.H)))):a.na=_.gk(function(){return ohg(a)},1E3)};
var phg=function(a,b,c){hhg.call(this,a,b,c);this.V=null;this.na=0};_.K(phg,hhg);phg.prototype.Da=function(a){return!!this.V&&a.source===this.V.contentWindow&&"null"===a.origin};
phg.prototype.ta=function(){var a=this,b=_.Rh(Tgg(this.H,!0).toString());Yeg(this.O,_.Pi(Tgg(this.H,!0),"login_hint").toString());this.V=b=_.ij(document,_.Ela(b,{sandbox:"allow-scripts",style:_.Oh("display:none")}));document.body.appendChild(b);this.na=_.gk(function(){a.W&&(x1(a.O,3),lhg(a,new A1("Timed out while waiting for iframe to authenticate.",10,null,a.H.H)))},5E3)};phg.prototype.wa=function(){_.hk(this.na);this.V&&(_.nj(this.V),this.V=null)};
var qhg=function(a,b,c,d){this.ha=a;this.V=b;this.W=c;this.O=d;this.H=new Map};qhg.prototype.getAuthToken=function(a,b){var c=this,d=a.mf();a=_.y(a,2)||"";var e=d+"|"+a;this.H.has(e)||(b=rhg(this,d,a,b).finally(function(){return c.H.delete(e)}),this.H.set(e,b));return this.H.get(e)};
var rhg=function(a,b,c,d){var e,f,g,k;return _.rg(function(l){if(1==l.H){e=d||new dfg;var n=_.p(e,1,1==b);var q=Ugg(c);n=_.p(n,2,q);q=new bfg;_.u(n,6,q);return _.kg(l,a.W.O(Date.now(),_.t(e,bfg,6)),2)}f=l.O;if(!f)return l.return(shg(a,b,c,e));a:{q=new ehg(f);try{if(q.SL()){n=null;break a}}catch(r){n=null;break a}n=q}return(g=n)&&fhg(g,c)?(n=new Veg,_.bh(e,4,efg,n),a.O.ka(e),k=new Ifg,n=g.getToken(),_.ah(k,1,Jfg,n),l.return(Promise.resolve(k))):l.return(shg(a,b,c,e))})},shg=function(a,b,c,d){var e,
f,g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:return e=new Xeg,_.bh(d,5,efg,e),_.wia(r,2),_.kg(r,a.ha.V(c,e),4);case 4:return f=r.O,g=f.H,2==b?_.kg(r,jhg(new nhg(f,a.V,e)),8):_.kg(r,jhg(new phg(f,a.V,e)),7);case 7:k=r.O;r.wf(6);break;case 8:k=r.O;case 6:l=k;if(B1(l).exp&&B1(l).iat){var v=1E3*(B1(l).exp-B1(l).iat);_.p(d,3,v)}n=l.getEmail();if(!n)throw x1(e,15),new A1("Authentication token has no email or google_email claim",32,null,g);if(!fhg(l,c))throw x1(e,2),new A1("Mismatch between user email "+
c+" and authentication token email "+n,9,null,g);x1(e,1);q=new Ifg;v=l.getToken();_.ah(q,1,Jfg,v);return _.kg(r,a.W.V(l.getToken(),B1(l).exp-60,Date.now(),_.t(d,bfg,6)),9);case 9:return r.return(q);case 2:_.pg(r),a.O.ka(d),_.qg(r,0)}})};
var thg=function(a,b,c){this.H=new qhg(new Vgg(a,c),new Pgg,new Ogg,b)};thg.prototype.getAuthToken=function(a){var b=this,c;return _.rg(function(d){c=Hfg(Gfg(new Ffg,_.jh(a,j1,1,Rdg).mf()),a.getEmail());return d.return(b.H.getAuthToken(c).then(function(e){return Udg(Tdg(),e.getAuthToken())}))})};
var uhg=function(a,b,c,d){this.W=a;this.O=b;this.V=c;this.H=d};
uhg.prototype.getAuthToken=function(a){var b=this,c,d,e,f,g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:c=Date.now();var v=new Meg;var w=_.jh(a,j1,1,Rdg).mf();v=_.p(v,1,w);w=a.getEmail();v=_.p(v,2,w);d=_.p(v,4,b.O);if(!b.H){r.wf(2);break}_.mg(r,3);e=d;f=e.H;return _.kg(r,b.H(Ugg(a.getEmail())),5);case 5:f.call(e,r.O);_.ng(r,2);break;case 3:_.og(r);case 2:return g=_.th(new v1,Neg,d),k=void 0,_.mg(r,6,7),_.kg(r,C1(b.W,1,g),9);case 9:return l=r.O,n=Peg.fq(l),r.return(Udg(Tdg(),n.getAuthToken()));
case 7:_.pg(r);b.V.ha(Jcg(1,c,k));if(k)throw k;_.qg(r,0);break;case 6:k=q=_.og(r),r.wf(7)}})};
var vhg=function(a,b,c){this.W=a;this.H=b;this.O=c};
vhg.prototype.V=function(a,b){var c=this,d,e,f,g,k,l,n;return _.rg(function(q){switch(q.H){case 1:var r=new nfg;r=_.p(r,1,a);d=_.p(r,3,c.H);if(!c.O){q.wf(2);break}_.mg(q,3);e=d;f=e.H;return _.kg(q,c.O(Ugg(a)),5);case 5:f.call(e,q.O);_.ng(q,2);break;case 3:_.og(q);case 2:return g=new xeg,_.wia(q,6),_.kg(q,C1(c.W,6,_.th(new v1,ofg,d),g),8);case 8:return k=q.O,l=qfg.fq(k),_.kg(q,Rgg(_.y(l,1),_.y(l,2),_.y(l,3),c.H,a,_.y(l,4),_.y(l,5)),9);case 9:return q.return(q.O);case 6:_.pg(q),(n=rfg.fq(g))&&_.ib(b,
n),_.qg(q,0)}})};
var whg=function(a){this.H=a};whg.prototype.V=function(a,b,c,d){var e=this,f,g;return _.rg(function(k){if(1==k.H){f=new xeg;_.wia(k,2);var l=C1,n=e.H,q=new v1;var r=(new Bfg).setToken(a);r=_.p(r,2,b);return _.kg(k,l(n,9,Cfg.iH(q,r),f),4)}if(2!=k.H)return k.return(Promise.resolve());_.pg(k);(g=Efg.fq(f))&&_.ib(d,g);return _.qg(k,0)})};
whg.prototype.O=function(a,b){var c=this,d,e,f,g;return _.rg(function(k){if(1==k.H)return d=new xeg,_.wia(k,2),_.kg(k,C1(c.H,8,_.th(new v1,xfg,new wfg),d),4);if(2!=k.H)return e=k.O,f=zfg.fq(e),k.return(Promise.resolve(f.getToken()));_.pg(k);(g=Afg.fq(d))&&_.ib(b,g);return _.qg(k,0)})};
var xhg=function(a){this.H=a};xhg.prototype.exchange=function(a,b,c,d,e,f){var g=this,k,l,n;return _.rg(function(q){if(1==q.H){var r=new v1;var v=new sfg;v=_.p(v,1,a);v=_.p(v,2,b);v=_.p(v,3,c);v=_.p(v,4,d);v=_.p(v,5,e);v=_.p(v,6,f);k=tfg.iH(r,v);return _.kg(q,C1(g.H,7,k),2)}l=q.O;n=_.y(vfg.fq(l),1);if(!n)throw new A1("ID token is missing from proxied auth code exchange response",20,null,c);return q.return(n)})};
var yhg=function(a,b){this.H=a;this.O=b};yhg.prototype.getAuthToken=function(a){var b=this,c,d,e;return _.rg(function(f){if(1==f.H){c=_.jh(a,j1,1,Rdg).mf();if(1===c)return f.return(b.H.getAuthToken(a));d=Hfg(Gfg(new Ffg,c),a.getEmail());var g=b.O,k=g.getAuthToken;var l=new dfg;l=_.p(l,7,!0);return _.kg(f,k.call(g,d,l),2)}e=f.O;return f.return(Udg(Tdg(),e.getAuthToken()))})};
var zhg=function(a,b,c,d){this.V=a;this.O=b;this.W=c;this.ha=d;this.H=Kcg(a,b,c,d)},Ahg=function(a,b,c){var d;return _.rg(function(e){switch(e.H){case 1:a.H||(a.H=Kcg(a.V,a.O,a.W,a.ha));if(a.H.Wg){e.wf(2);break}_.mg(e,3);return _.kg(e,Lcg(a.H),5);case 5:_.ng(e,4);break;case 3:throw d=_.og(e),a.H&&(a.H.iframe.remove(),a.H=null),d;case 4:a.H.Wg=!0;case 2:return c?e.return(new Promise(function(f,g){var k=setTimeout(function(){g(new p1("No response from iframe channel within timeout",27))},c);a.H.channel.H(b).then(function(l){clearTimeout(k);
f(l)}).catch(function(l){clearTimeout(k);g(l)})})):e.return(a.H.channel.H(b))}})},C1=function(a,b,c,d){var e,f,g,k;return _.rg(function(l){if(1==l.H)return _.kg(l,Ahg(a,{type:b,request:_.vh(c,Aeg)},1===b?void 0:3E4),2);e=l.O;f=e.data;if(!f)throw new p1("Iframe returned an empty message",17);g=null;try{g=_.uh(f.response,Deg)}catch(n){throw new p1("Iframe returned an malformed response",17);}d&&_.Sg(g,3)&&_.ib(d,_.t(g,xeg,3));if((k=g.getError())&&0!==k.getError())throw _.P(k,3)?new A1(_.I(k,2),k.getError(),
null,_.I(k,3)):new p1(_.I(k,2),k.getError());return l.return(g)})};
var Bhg={"Content-Type":"application/json"},Chg=function(a){this.H=a};
Chg.prototype.wrap=function(a){var b=this,c,d,e,f,g,k,l,n,q,r,v,w;return _.rg(function(x){switch(x.H){case 1:if(!_.P(a,3))throw new p1("Missing authorization token",5);c=Date.now();d=_.y(a,3);e=Dhg(d,"/wrap");f=Ehg(d);var z=ifg(1);z=_.p(z,2,e);g=_.p(z,6,f);l={key:null==(k=_.Wg(a,1))?void 0:_.bba(k),authorization:d,authentication:_.y(a,2),reason:_.y(a,4)};_.mg(x,2);return _.kg(x,_.ba.fetch(e,{method:"POST",mode:"cors",headers:Bhg,body:JSON.stringify(l)}),4);case 4:n=x.O;_.ng(x,3);break;case 2:throw q=
_.og(x),x=Date.now()-c,_.p(g,3,x),_.p(g,5,7),b.H.H(g),new p1("Wrap request to KACLS failed",28,q);case 3:_.p(g,4,n.status);z=Date.now()-c;_.p(g,3,z);if(!n.ok)throw b.H.H(g),Mcg(n.status);_.mg(x,5);return _.kg(x,n.json(),7);case 7:r=x.O;_.ng(x,6);break;case 5:throw v=_.og(x),_.p(g,5,2),b.H.H(g),new p1("Unable to parse response as JSON",2,v);case 6:w=r.wrapped_key;if(!w)throw _.p(g,5,3),b.H.H(g),new p1("wrapped_key is missing in KACLS response",2);_.p(g,5,1);b.H.H(g);return x.return(ueg(w))}})};
Chg.prototype.V=function(a){var b=this,c,d,e,f,g,k,l,n,q,r,v;return _.rg(function(w){switch(w.H){case 1:if(!_.P(a,3))throw new p1("Missing authorization token",5);c=Date.now();d=_.y(a,3);e=Dhg(d,"/unwrap");f=Ehg(d);var x=ifg(2);x=_.p(x,2,e);g=_.p(x,6,f);k={wrapped_key:_.y(a,1),authorization:d,authentication:_.y(a,2),reason:_.y(a,4)};_.mg(w,2);return _.kg(w,_.ba.fetch(e,{method:"POST",mode:"cors",headers:Bhg,body:JSON.stringify(k)}),4);case 4:l=w.O;_.ng(w,3);break;case 2:throw n=_.og(w),w=Date.now()-
c,_.p(g,3,w),_.p(g,5,7),b.H.H(g),new p1("Unwrap request to KACLS failed",28,n);case 3:_.p(g,4,l.status);x=Date.now()-c;_.p(g,3,x);if(!l.ok)throw b.H.H(g),Mcg(l.status);_.mg(w,5);return _.kg(w,l.json(),7);case 7:q=w.O;_.ng(w,6);break;case 5:throw r=_.og(w),_.p(g,5,2),b.H.H(g),new p1("Unable to parse response as JSON",3,r);case 6:v=q.key;if(!v)throw _.p(g,5,3),b.H.H(g),new p1("key is missing in KACLS response",3);_.p(g,5,1);b.H.H(g);return w.return(reg(v))}})};
var Dhg=function(a,b){a=Fhg(a).kacls_url;if(!a)throw new p1("Missing KACLS URL claim in authorization token",5);return a.endsWith("/")?a.slice(0,-1)+b:a+b},Ehg=function(a){a=Fhg(a);if(!a.resource_name)throw new p1("resource_name claim is empty",5);return a.resource_name},Fhg=function(a){try{return JSON.parse(_.zkc(a.split(".")[1]))}catch(b){throw new p1("Cannot decode authorization token",5,b);}};
var Ghg=function(a,b){this.O=a;this.H=b};Ghg.prototype.wrap=function(a){var b=this,c,d,e,f,g,k,l;return _.rg(function(n){switch(n.H){case 1:c=Date.now();var q=new Ieg;var r=_.xkc(_.y(a,1));q=_.p(q,1,r);q=_.p(q,2,_.y(a,2));q=_.p(q,3,_.y(a,3));d=_.p(q,4,_.y(a,4));e=_.th(new v1,Jeg,d);f=void 0;_.mg(n,2,3);return _.kg(n,C1(b.O,2,e),5);case 5:return g=n.O,k=Leg.fq(g),n.return(ueg(_.y(k,1)));case 3:_.pg(n);b.H.ha(Jcg(2,c,f));if(f)throw f;_.qg(n,0);break;case 2:f=l=_.og(n),n.wf(3)}})};
Ghg.prototype.V=function(a){var b=this,c,d,e,f,g,k,l;return _.rg(function(n){switch(n.H){case 1:c=Date.now();var q=new Eeg;q=_.p(q,1,_.y(a,1));q=_.p(q,2,_.y(a,2));q=_.p(q,3,_.y(a,3));d=_.p(q,4,_.y(a,4));e=_.th(new v1,Feg,d);f=void 0;_.mg(n,2,3);return _.kg(n,C1(b.O,3,e),5);case 5:return g=n.O,k=Heg.fq(g),n.return(reg(_.xkc(_.y(k,1))));case 3:_.pg(n);b.H.ha(Jcg(3,c,f));if(f)throw f;_.qg(n,0);break;case 2:f=l=_.og(n),n.wf(3)}})};
var Hhg=function(a){_.Q.call(this,a)};_.K(Hhg,_.Q);var Ihg=[1,2,3,5];
var Jhg=function(a,b){b=void 0===b?0:b;this.W=(new _.Ykc(1269,a)).build();this.V=b};Jhg.prototype.O=function(a){var b=new Hhg;a=_.bh(b,3,Ihg,a);a=_.p(a,4,this.V);this.W.V(a)};Jhg.prototype.ka=function(a){var b=new Hhg;a=_.bh(b,2,Ihg,a);a=_.p(a,4,this.V);this.W.V(a)};Jhg.prototype.H=function(a){var b=new Hhg;a=_.bh(b,1,Ihg,a);a=_.p(a,4,this.V);this.W.V(a)};Jhg.prototype.ha=function(a){var b=new Hhg;a=_.bh(b,5,Ihg,a);a=_.p(a,4,this.V);this.W.V(a)};
var Khg=function(a){this.V=a};Khg.prototype.O=function(a){var b=C1,c=this.V,d=new v1,e=new kfg;a=_.bh(e,3,lfg,a);b(c,10,mfg.iH(d,a))};Khg.prototype.ka=function(a){var b=C1,c=this.V,d=new v1,e=new kfg;a=_.bh(e,2,lfg,a);b(c,10,mfg.iH(d,a))};Khg.prototype.H=function(a){var b=C1,c=this.V,d=new v1,e=new kfg;a=_.bh(e,1,lfg,a);b(c,10,mfg.iH(d,a))};Khg.prototype.ha=function(a){var b=C1,c=this.V,d=new v1,e=new kfg;a=_.bh(e,4,lfg,a);b(c,10,mfg.iH(d,a))};
var Lhg=function(a,b,c){this.V=a;this.H=b;this.O=c},Mhg=function(a,b){var c=_.P(a,4)?_.y(a,4).toString():(c=(c=_.ti(_.fj().location.href))&&/\/u\/(\d+)\/?/.exec(c))?c[1]:"0";var d=_.y(a,3)||0;if(_.t(a,q1,6)&&_.A(_.t(a,q1,6),1)){var e=_.lC(_.t(_.t(a,q1,6),_.jC,2));var f=_.eb(_.t(a,q1,6),5);e=new zhg(e,d,c,f)}else e=void 0;var g;e&&_.A(_.t(a,q1,6),4)?g=new Khg(e):g=new Jhg(c,d);a:switch(c=g,_.P(a,1)?_.y(a,1):1){case 0:if(!_.P(a,7))throw new p1("IDP is OIDC but OIDC callback URL is missing",1);d=_.y(a,
7);a=e?_.t(a,q1,6)&&_.A(_.t(a,q1,6),3)?new yhg(new uhg(e,d,c,b),new qhg(new vhg(e,d,b),new xhg(e),new whg(e),c)):new uhg(e,d,c,b):new thg(d,c,b);break a;case 1:a=new Ngg;break a;default:throw new p1("Unknown IDP type",1);}return new Lhg(a,e?new Ghg(e,g):new Chg(g),g)},Uhg=function(a,b){var c,d,e,f,g,k,l,n,q;return _.rg(function(r){switch(r.H){case 1:if(1<_.jb(b,aeg,5).length)throw new p1("at most one additional KACLS is allowed in multi-wrapping",1);Nhg(b);c=Ohg(_.y(b,4));_.mg(r,2);return _.kg(r,
Kgg(Phg(a,c)),4);case 4:d=r.O;_.ng(r,3);break;case 2:throw e=_.og(r),new p1(e.message,7,e);case 3:return _.kg(r,Qhg(a,_.t(b,Pbg,2),Rhg(_.y(b,3))),5);case 5:return f=r.O,_.kg(r,Ocg(d.getKey(),_.y(b,3)),6);case 6:return g=r.O,l=function(){var v,w;return _.rg(function(x){if(1==x.H)return v=_.y(_.t(b,u1,1),2),_.kg(x,Shg(a,d.getKey(),f,_.y(b,3),_.y(_.t(b,u1,1),1),_.y(_.t(b,u1,1),2),!0),2);w=x.O;k=Thg(v,w,_.y(b,4),d.V,g);_.lg(x)})}(),n=new Idg,q=_.jb(b,aeg,5).map(function(v){var w,x;return _.rg(function(z){if(1==
z.H)return w=_.y(_.t(v,u1,1),2),_.kg(z,Shg(a,d.getKey(),f,_.y(v,2),_.y(_.t(v,u1,1),1),w,!1),2);x=z.O;var C=Thg(w,x,_.y(b,4),d.V,g);_.ch(n,1,k1,C);_.lg(z)})}),_.kg(r,Promise.all(q.concat([l])),7);case 7:return r.return(new egg(d,k))}})},Yhg=function(a,b){var c,d,e,f,g,k;return _.rg(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.kg(l,Vhg(a,b),2);case 2:return d=l.O,_.kg(l,Whg(a,c.loa(),d,_.y(b,5),_.y(_.t(b,u1,3),1),_.y(_.t(b,u1,3),2)),3);case 3:return e=l.O,f=Xhg(c),_.mg(l,4),_.kg(l,Lgg(Phg(a,
Ohg(c.Wca().H())),e,f,_.y(b,2)-y1.length),6);case 6:g=l.O;_.ng(l,5);break;case 4:throw k=_.og(l),new p1(k.message,7,k);case 5:return l.return(new Pfg(g))}})},Zhg=function(a,b){var c,d,e,f,g,k;return _.rg(function(l){switch(l.H){case 1:return c=b.getMetadata(),_.kg(l,Vhg(a,b),2);case 2:return d=l.O,_.kg(l,Whg(a,c.loa(),d,_.y(b,5),_.y(_.t(b,u1,3),1),_.y(_.t(b,u1,3),2)),3);case 3:return e=l.O,f=Xhg(c),_.mg(l,4),_.kg(l,Mgg(Phg(a,Ohg(c.Wca().H())),e,f,_.y(b,2)-y1.length),6);case 6:g=l.O;_.ng(l,5);break;
case 4:throw k=_.og(l),new p1(k.message,7,k);case 5:return l.return(new hgg(g))}})};Lhg.prototype.ha=function(){if(!_.Ug(void 0,3,Tbg))throw new p1("unknown encryption type",1);return $hg(0,(void 0).Wca().H())};
var $hg=function(a,b){a=Ohg(b);try{return Fcg(NaN-y1.length,a,a+28)}catch(c){if(c instanceof o1)throw new p1(c.message,1,c);throw new p1(c.message,7,c);}},Ohg=function(a){switch(a){case 1:return 2097152;case 2:return 65536;case 3:return 16384;case 0:throw new p1("Buffer size config is not set",1);default:throw new p1("Unexpected buffer size config",1);}},Phg=function(a,b){return new Jgg(b,a.O)},aig=function(a,b,c){var d,e;return _.rg(function(f){if(1==f.H)return _.kg(f,Qhg(a,b,c),2);d=f.O;e=new Pdg;
var g=new Vdg;g=_.p(g,1,d);Wdg.iH(e,g);return f.return(e)})},Vhg=function(a,b){return _.rg(function(c){if(_.Sg(b,6))return c.return(Promise.resolve(_.y(_.oh(_.t(b,Pdg,6),Wdg),1)));if(_.Sg(b,4))return c.return(Qhg(a,_.t(b,Pbg,4),Rhg(_.y(b,5))));throw new p1("Invalid authentication token.",1);})},Qhg=function(a,b,c){var d,e;return _.rg(function(f){if(1==f.H){var g=new Qdg;var k=_.jh(b,j1,1,Qbg);g=_.bh(g,1,Rdg,k);d=_.p(g,2,c);return _.kg(f,a.V.getAuthToken(d),2)}e=f.O;return f.return(e.getAuthToken())})},
Rhg=function(a){try{return JSON.parse(atob(a.split(".")[1])).email}catch(b){throw new p1("Invalid authorization token.",1);}},Shg=function(a,b,c,d,e,f,g){var k,l,n,q,r;return _.rg(function(v){switch(v.H){case 1:var w=new seg;w=_.p(w,1,b);w=_.p(w,2,c);w=_.p(w,3,d);k=_.p(w,4,e);_.mg(v,2);return _.kg(v,a.H.wrap(k),4);case 4:l=v.O;_.ng(v,3);break;case 2:throw n=_.og(v),q=n instanceof p1?n.H:17,r=n instanceof p1?n.O:n,new lgg(n.message,q,f,g,r);case 3:return v.return(_.y(l,1))}})},Whg=function(a,b,c,d,
e,f){var g,k,l,n,q,r;return _.rg(function(v){switch(v.H){case 1:var w=new peg;w=_.p(w,1,b);w=_.p(w,2,c);w=_.p(w,3,d);g=_.p(w,4,e);_.mg(v,2);return _.kg(v,a.H.V(g),4);case 4:k=v.O;_.ng(v,3);break;case 2:throw l=_.og(v),n=l instanceof p1?l.H:17,q=l instanceof p1?l.O:l,new lgg(l.message,n,f,!0,q);case 3:return v.return(null==(r=_.Wg(k,1))?void 0:_.tlc(r))}})},Thg=function(a,b,c,d,e){var f=new k1;a=_.p(f,1,a);b=_.p(a,2,b);a=new Sbg;c=_.p(a,1,c);c=_.bh(b,3,Tbg,c);d=_.u(c,4,d);return _.p(d,5,e)},Xhg=function(a){return _.Sg(a,
4)&&_.P(a.fza(),1)?a.fza():Ubg(new Vbg,1)},Nhg=function(a){a=_.jb(a,aeg,5).map(function(b){return _.y(b,2)}).concat(_.y(a,3));if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).resource_name}catch(d){throw new p1("Invalid authorization token.",1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new p1("mismatching resource_name in authorization tokens",1);if(null===a.map(function(b){try{var c=JSON.parse(atob(b.split(".")[1])).perimeter_id}catch(d){throw new p1("Invalid authorization token.",
1);}return c}).reduce(function(b,c){return b===c?b:null}))throw new p1("mismatching perimeter_id in authorization tokens",1);},big=function(a,b){var c,d,e,f,g,k,l,n,q,r,v,w,x,z,C;return _.rg(function(F){switch(F.H){case 1:c=_.t(b,geg,2);d=_.t(b,deg,3);e=c.getMetadata();f=_.y(c,2);g=_.y(d,2);var M=Rhg(f),L=Rhg(g);if(M!==L)throw new p1("Source email and destination email do not match",1);return _.kg(F,Qhg(a,_.t(b,Pbg,1),Rhg(f)),2);case 2:return k=F.O,_.kg(F,Whg(a,e.loa(),k,f,_.y(_.t(c,u1,1),1),_.y(_.t(c,
u1,1),2)),3);case 3:return l=F.O,_.kg(F,Shg(a,l,k,g,_.y(_.t(d,u1,1),1),_.y(_.t(d,u1,1),2),!0),4);case 4:return n=F.O,q=Lhg,r=Thg,v=_.y(_.t(d,u1,1),2),w=n,x=e.Wca().H(),z=Xhg(e),_.kg(F,Ocg(l,g),5);case 5:return C=r.call(q,v,w,x,z,F.O),M=F.return,L=new oeg,L=_.u(L,1,C),M.call(F,L)}})};
var cig=function(a,b){this.H=a;this.V=b;this.O=null};cig.prototype.get=function(){if(!this.O){this.V.info("drive.ds.cse.CseProvider","Creating CSE client");var a=_.t(this.H,_.joc,2),b=dig.get(_.tK(this.H));this.O=2===_.Xg(a,3,1)?Mhg(Ldg(Mdg(Ndg(Odg(Kdg(),_.y(a,4)),_.t(a,q1,6)),_.pI(_.CI(this.H))),b),function(){return Promise.resolve(_.t(a,adg,5)||null)}):Mhg(new Jdg)}return this.O};var dig=new Map([[0,0],[12,1],[13,2],[14,3],[9,5],[1,4],[15,6]]);
var eig=function(a){return 1E3*JSON.parse(atob(a.split(".")[1])).exp<Date.now()};
var fig=function(a,b,c,d){_.S.call(this);this.W=a;this.H=b;this.O=c;this.V=d};_.K(fig,_.S);
var gig=function(a,b){var c=b.vc()||_.y(b,12);if(!_.gK(a.H))return Promise.resolve(Pcg().then(function(l){return _.rrc(_.src(_.qrc(new _.XK,c),l),123)}));var d=_.y(b,24),e=_.y(b,25),f=_.y(b,32),g=b.aj();if(c&&d&&!eig(d)&&e&&null!=f&&g&&null!=g)return a.O.info("drive.ds.cse.CseTokenProvider","Using prefetched CseToken for "+c),d=_.urc(_.trc(_.rrc(_.src(_.qrc(new _.XK,c),d),e),f),g),Promise.resolve(d);var k=new _.cg;_.dg(k,1422);a.O.info("drive.ds.cse.CseTokenProvider","Fetching CseToken for "+c);return Promise.resolve(a.W.then(function(l){var n,
q,r,v,w,x;return _.rg(function(z){if(1==z.H)return n=_.jb(b,_.Kl,28),q=n.find(function(C){return C.getId()===c}),r=Adg(Bdg(zdg(new _.$J,c),k),q),!_.J(a.H,8,!1)||c?z.wf(2):(v=_.eb(b,3)[0])?(_.p(r,5,v),z.wf(2)):(w=_.eb(b,10)[0])?_.kg(z,_.Cuc(a.V,w).promise,5):z.wf(2);2!=z.H&&(x=z.O,_.p(r,5,x));return z.return(l.jf(r))})}).then(function(l){return Promise.resolve(l)}).then(function(l){c||(c=l.vc());return l}))};
var hig=function(a,b,c,d,e){var f=Wbg(_.y(a,2),_.y(a,1),_.y(a,3),_.y(a,6));e=Zdg(Xdg(Ydg(new u1,_.y(a,2)),""),e);var g=new $dg;f=_.u(g,1,f);c=Rbg(c);c=_.u(f,4,c);e=_.u(c,3,e);a=_.p(e,5,_.y(a,4));b=_.p(a,2,b);return _.u(b,6,d)};
var iig=function(a,b){this.O=a;this.V=b;this.done=!1};iig.prototype.H=function(a){var b=this,c,d,e,f,g,k,l;return _.rg(function(n){if(1==n.H){if(b.done)throw Error("Gq");c=(new DataView(a.buffer)).getUint32(0,!1);d=a.subarray(4,4+c);e=_.uh(d,Edg);f=a.length-d.length-4;g=a.subarray(4+c,a.length);return _.kg(n,jig(b.O,e,f,b.V),2)}if(3!=n.H){k=n.O;if(g.length!==f)throw Error("Hq");return _.kg(n,k.H(g),3)}l=n.O;b.done=!0;return n.return(l)})};
var jig=function(a,b,c,d){var e,f,g;return _.rg(function(k){e=Ydg(Xdg(new u1,"CSE Demo"),123);var l=new Pbg,n=new j1;f=_.bh(l,1,Qbg,n);l=new $dg;l=_.u(l,3,e);l=_.u(l,4,f);l=_.p(l,5,a);l=_.p(l,2,c);l=_.u(l,1,b);g=_.u(l,6,d);return k.return(Yhg(Mhg(new Jdg),g))})};
var kig=function(a){this.W=a};kig.prototype.V=function(){throw Error("Iq");};kig.prototype.O=function(){throw Error("Iq");};
kig.prototype.H=function(a){var b=this,c,d,e,f,g;return _.rg(function(k){if(1==k.H){var l=b.W;var n=Ydg(Xdg(new u1,"CSE Demo"),123);var q=new Pbg;var r=new j1;q=_.bh(q,1,Qbg,r);r=new ceg;n=_.u(r,1,n);n=_.u(n,2,q);l=_.p(n,3,l);l=_.p(l,4,1);l=Uhg(Mhg(new Jdg),l);return _.kg(k,l,2)}if(3!=k.H)return c=k.O,d=_.vh(c.V(),Edg),e=new Uint8Array(4),(new DataView(e.buffer)).setUint32(0,d.length,!1),_.kg(k,c.H(a),3);f=k.O;g=new Uint8Array(4+d.length+f.length);g.set(e,0);g.set(d,4);g.set(f,4+d.length);return k.return(g)})};
var mig=function(a,b){if(a instanceof _.Cd)return a;if(a instanceof _.Bd)return new _.Cd("Dataservice error",a);if(a instanceof p1){var c=lig[a.H]||1,d=_.QI(_.WI(_.yMa(void 0,void 0,a),2),c);a instanceof A1?_.p(d,24,a.V):230<=c&&260>c&&_.p(d,25,b);return new _.Cd("CSE library error",d)}return new _.Cd("Generic error",void 0,a instanceof Error?a:void 0)},oig=function(a){return nig[a.Kg.Vr()]||0},D1={},lig=(D1[9]=200,D1[10]=201,D1[11]=202,D1[12]=203,D1[13]=204,D1[14]=205,D1[15]=206,D1[16]=207,D1[18]=
208,D1[19]=209,D1[20]=210,D1[25]=211,D1[31]=212,D1[32]=213,D1[2]=230,D1[3]=231,D1[4]=232,D1[5]=233,D1[28]=234,D1[29]=235,D1[30]=236,D1[6]=260,D1[7]=261,D1[8]=262,D1[1]=290,D1[17]=291,D1),E1={},nig=(E1[200]=200,E1[201]=201,E1[202]=202,E1[203]=203,E1[204]=204,E1[205]=205,E1[206]=206,E1[207]=207,E1[208]=208,E1[209]=209,E1[210]=210,E1[211]=211,E1[212]=212,E1[213]=213,E1[230]=230,E1[231]=231,E1[232]=232,E1[233]=233,E1[234]=234,E1[235]=235,E1[236]=236,E1[260]=260,E1[261]=261,E1[262]=262,E1[290]=290,E1[291]=
291,E1);
var pig=function(a,b,c,d,e){this.V=a;this.O=b;this.H=c;this.W=d;this.uc=e};
pig.prototype.copy=function(a,b){var c=this,d,e,f,g,k,l,n,q,r,v,w,x,z,C,F,M,L;return _.rg(function(R){switch(R.H){case 1:return _.kg(R,Promise.all([qig(c.V,a.getId(),_.y(a,9)),gig(c.O,ldg(new _.rJ,_.y(a,10)))]),2);case 2:return d=R.O,e=_.m(d),f=e.next().value,g=e.next().value,k=f,l=g,n=rdg(k),q=Wbg(_.y(n,2),_.y(n,1),_.y(n,3),_.y(n,6)),r=Zdg(Xdg(Ydg(new u1,_.y(n,2)),""),k.aj()),v=jeg(ieg(heg(r),_.y(n,4)),q),w=Zdg(Xdg(Ydg(new u1,_.y(l,2)),""),l.aj()),x=feg(eeg(w),_.y(l,3)),z=neg(meg(leg(new keg,Rbg(b)),
v),x),_.kg(R,big(c.H.get(),z).catch(function(X){throw mig(X,_.y(n,5));}),3);case 3:return C=R.O,a=mdg(a.clone(),l.vc()),_.kg(R,c.W,4);case 4:return F=R.O,_.kg(R,F.jf(new _.tJ(a,_.t(C,k1,1))),5);case 5:M=R.O;if(!c.uc){R.wf(6);break}L=M.getItem();return _.kg(R,c.uc.gp([_.UI(new _.TI,L.getId()).setItem(L)]),6);case 6:return R.return(M)}})};
var rig=function(a,b,c,d){this.V=a;this.W=b;this.Lf=c;this.O=d;this.H=new Map},tig=function(a,b,c,d,e){a.O.info("drive.ds.cse.FileDecrypter","Get buffered decrypter for "+b.getId()+"/"+_.UK(b));b=b.getId();var f=a.Lf.H(106028);f&&(a.H.set(b,f),kdg(r1(f),d));return c.then(function(g){return e.then(function(k){return sig(a,rdg(g),_.y(g,3),d,k,g.aj()).then(function(l){if(f){var n=jdg(r1(f),!0);_.p(n,4,_.y(g,3));f.H()}return l})}).catch(function(k){k=mig(k,_.y(rdg(g),5));if(f){var l=jdg(r1(f),!1);_.p(l,
2,oig(k));f.H()}throw k;})})},uig=function(a,b,c,d){var e=a.Lf.H(106014);if(e){var f=a.H.get(b.getId());f&&_.dnc(e,f)}return c.then(function(g){a.O.info("drive.ds.cse.FileDecrypter","Decrypt file "+b.getId()+"/"+(_.UK(b)+", size: {$fileBytes.size}"));return d.H(g).then(function(k){if(e){var l=jdg(r1(e),!0);_.p(l,4,g.byteLength);e.H();a.H.delete(b.getId())}return k})}).catch(function(g){g=mig(g,"");if(e){var k=jdg(r1(e),!1);_.p(k,2,oig(g));e.H();a.H.delete(b.getId())}throw g;})},sig=function(a,b,c,
d,e,f){return _.gK(a.V)?(b=hig(b,c,d,e,f),Yhg(a.W.get(),b)):Promise.resolve(new iig(_.y(b,4),e))};
var vig=function(a,b){this.H=a;this.Lf=b},Ofg=function(a,b,c){var d;return _.rg(function(e){return 1==e.H?(d=a.Lf.H(106011),_.kg(e,Nbg(b.Pd(),c),2)):e.return(a.H.then(function(f){return f.jf(b)}).then(function(f){var g=f.H;wig(c,d,!0,g.length,f.retryCount);return g},function(f){wig(c,d,!1,0,_.YI(f).s$()||0);throw f;}))})},wig=function(a,b,c,d,e){null!=b&&a.then(function(f){var g=_.t(_.GK(b),edg,10);if(!g){g=new edg;var k=_.GK(b);_.u(k,10,g)}k=_.p(g,1,c);f=_.p(k,5,_.y(f,3));f=_.p(f,4,d);_.p(f,6,e);
c||_.p(g,2,0);b.H()})};
var xig=function(a){_.dk.call(this);var b=this;this.requestId=a;this.H=this.O=this.item=null;this.rva=new Promise(function(c,d){b.O=c;b.H=d})};_.K(xig,_.dk);xig.prototype.vk=function(){return this.requestId};xig.prototype.getItem=function(){return this.item};xig.prototype.setItem=function(a){this.item=a};var yig=function(a,b,c,d){a.O&&a.H&&a.dispatchEvent(new Gdg(a.requestId,b,c,d));5===b&&a.item&&a.O?(a.O((new _.NA).setItem(a.item)),a.O=null):a.H&&d&&(6===b||3===b||0===b)&&(a.H(d),a.H=null)};
var zig=function(a,b,c,d,e){this.H=a;this.ka=b;this.ha=c;this.Lf=d;this.W=e;this.V=new Map;this.O=new Map},Big=function(a,b,c,d,e){a.W.info("drive.ds.cse.FileEncrypter","Setup encrypted '"+b.getTitle()+"'");var f;return gig(a.ka,b).then(function(g){yig(c,1);ldg(b,g.vc());_.p(b,25,_.y(g,2));_.p(b,32,_.y(g,5));_.p(b,33,g.aj());_.p(b,24,_.y(g,3));f=_.gK(a.H)?b.vc():"demoId";var k=a.Lf.H(106029);k&&(a.O.set(f,k),hdg(ndg(k),d));return Aig(a,g,d,e).then(function(l){a.V.set(f,l);k&&(gdg(ndg(k),!0),k.H());
return l}).catch(function(l){l=mig(l,_.y(g,5));yig(c,3,void 0,l);if(k){var n=gdg(ndg(k),!1);_.p(n,2,oig(l));k.H();a.O.delete(f)}throw l;})})},Cig=function(a,b,c,d,e,f){a.W.info("drive.ds.cse.FileEncrypter","Encrypt next '"+b.getTitle()+"', blob size: "+(c.size+", hasMore: "+f));var g=_.gK(a.H)?b.vc():"demoId",k=a.Lf.H(106013);k&&(b=a.O.get(g))&&_.dnc(k,b);return(new Response(c)).arrayBuffer().then(function(l){return(f?e.O(new Uint8Array(l)):e.H(new Uint8Array(l))).then(function(n){f||yig(d,2);if(k){var q=
gdg(ndg(k),!0);_.p(q,4,l.byteLength);k.H()}return n})}).catch(function(l){l=mig(l,"");yig(d,3,void 0,l);if(k){var n=gdg(ndg(k),!1);_.p(n,2,oig(l));k.H();a.O.delete(g)}throw l;})},Aig=function(a,b,c,d){if(_.gK(a.H)){var e=Zdg(Xdg(Ydg(new u1,_.y(b,2)),""),b.aj());var f=new ceg;c=Rbg(c);f=_.u(f,2,c);e=_.u(f,1,e);b=_.p(e,3,_.y(b,3));d=_.p(b,4,d);return Uhg(a.ha.get(),d)}return Promise.resolve(new kig(_.y(b,3)))};zig.prototype.getMetadata=function(a){if(_.gK(this.H))return(a=a&&this.V.get(a))?a.V():void 0};
var Dig=function(a,b,c){_.S.call(this);this.W=a;this.ha=b;this.H=c;this.V=new Map;this.O=new Map};_.K(Dig,_.S);
var Eig=function(a,b){var c=_.UK(b),d=_.t(b,s1,5);if(c&&d){var e=Obg(b.getId(),c);!a.O.get(e)&&c===_.y(d,4)&&_.P(d,1)&&_.P(d,2)&&_.P(d,3)&&_.Sg(d,5)&&(a.H.info("drive.ds.cse.FileMetadataCache","Caching prefetched FileMetadata for "+(b.getId()+"/"+c)),a.O.set(e,d))}},qig=function(a,b,c){var d,e,f,g,k,l,n,q,r,v,w,x,z,C,F,M,L;return _.rg(function(R){if(1==R.H)return _.gK(a.ha)?R.wf(2):_.kg(R,Promise.all([Fig(a,b),Pcg()]),3);if(2!=R.H){d=R.O;e=_.m(d);f=e.next().value;g=e.next().value;k=f;l=g;n=k.getTitle()||
"";q=k.getMimeType()||"";r=k.EW()||-1;v=k.aj()||"";c||(c=_.y(k,78)||"");var X=R.return,ca=qdg(pdg(odg((new s1).setTitle(n),q),r),c);var qa=new _.loc;qa=_.p(qa,4,l);return X.call(R,tdg(sdg(ca,qa),v))}w=a.getKey(b,c);if(c){x=a.O.get(w);if((F=(null==(z=x)?void 0:null==(C=rdg(z))?void 0:_.y(C,4))||null)&&!eig(F))return a.H.info("drive.ds.cse.FileMetadataCache","Using cached FileMetadata for "+w),R.return(Promise.resolve(x));if(M=a.V.get(w))return a.H.info("drive.ds.cse.FileMetadataCache","Waiting on FileMetadata for "+
w),R.return(M)}L=new _.jq;Gig(a,L,b,c).catch(L.reject);return R.return(L.promise)})},Gig=function(a,b,c,d){var e=a.getKey(c,d);a.H.info("drive.ds.cse.FileMetadataCache","Fetching FileMetadata for "+c+"/"+d);e&&a.V.set(e,b.promise);Fig(a,c).then(function(f){var g=f.aj()||"",k=_.y(f,78)||"";if(d&&d!==k)return Hig(a,c,d).then(function(r){var v=_.y(r,7)||"",w=r.getMimeType()||"",x=_.y(r,8)||-1;r=_.t(r,_.loc,10);return tdg(sdg(qdg(pdg(odg((new s1).setTitle(v),w),x),d),r),g)});var l=f.getTitle()||"",n=
f.getMimeType()||"",q=f.EW()||-1;f=_.t(_.t(f,_.hK,138),_.loc,2);return tdg(sdg(qdg(pdg(odg((new s1).setTitle(l),n),q),k),f),g)}).then(function(f){e&&a.V.delete(e);a.O.set(a.getKey(c,_.y(f,4)),f);b.resolve(f)},function(f){e&&a.V.delete(e);b.reject(f)});return b.promise},Fig=function(a,b){return a.W.then(function(c){var d=_.vG(_.uG(new _.sG,[b]),_.dg(new _.cg,1488));d=_.grc(_.hrc(new _.DJ,d),0);return c.jf(d).then(function(e){return e.kd().Bd()[0]})})},Hig=function(a,b,c){return a.W.then(function(d){return d.jf(new _.juc(b,
c))})};Dig.prototype.getKey=function(a,b){return b?a+"|"+b:""};
var Iig=function(a,b){this.H=a;this.O=b};
var Jig=function(a,b,c){this.W=a;this.Lf=b;this.O=c;this.V=new Map;this.H=new Map},Kig=function(a,b,c,d,e){var f,g;return _.rg(function(k){if(1==k.H)return a.O.info("drive.ds.cse.RangeDecrypter","Get range decrypter for "+b.getId()+"/"+_.UK(b)),(f=a.Lf.H(106028))&&kdg(r1(f),d),_.kg(k,Nbg(b,c),2);g=Obg(b.getId(),_.UK(b));return k.return(c.then(function(l){return e.then(function(n){var q=hig(rdg(l),_.y(l,3),d,n,l.aj()),r=q.Hc();if(n=a.V.get(r))return n;n=new Promise(function(v,w){Zhg(a.W.get(),q).then(function(x){if(f){a.H.set(g,
f);var z=jdg(r1(f),!0),C=x.ha();_.p(z,4,C);f.H()}v(x)},w)});a.V.set(r,n);setTimeout(function(){return void a.V.delete(r)},18E5);return n}).catch(function(n){n=mig(n,_.y(rdg(l),5));if(f){var q=jdg(r1(f),!1);_.p(q,2,oig(n));f.H();a.H.delete(g)}throw n;})}))})},Lig=function(a,b,c,d,e){a.O.info("drive.ds.cse.RangeDecrypter","Decrypt range "+b.getId()+"/"+_.UK(b)+", range: "+(e.start+"-"+e.end));var f=a.Lf.H(106014);f&&(a=a.H.get(Obg(b.getId(),_.UK(b))))&&_.dnc(f,a);return kgg(d,e,c).then(function(g){if(f){var k=
jdg(r1(f),!0);_.p(k,4,g.byteLength);f.H()}return g}).catch(function(g){g=mig(g,"");if(f){var k=jdg(r1(f),!1);_.p(k,2,oig(g));f.H()}throw g;})},Nig=function(a,b,c,d,e,f,g,k){return Mig(a,b,c,d,e,g,f,0,Math.ceil((e.end-e.start+1)/f),void 0,k)},Mig=function(a,b,c,d,e,f,g,k,l,n,q){if(k>=l)return Promise.resolve();var r=q(g)||1,v=Mbg(g*r,e,n);a.O.info("drive.ds.cse.RangeDecrypter","Decrypt chunk "+b.getId()+"/"+_.UK(b)+", curChunk: "+(k+", chunkSize: "+g+", chunks: ")+r);return Lig(a,b,c,d,v).then(function(w){return new Iig(v,
w)}).then(f).then(function(){return Mig(a,b,c,d,e,f,g,k+r,l,v,q)})};
var Oig=function(a,b,c,d){this.clientId=a;this.requestId=b;this.port=c;this.H=d;this.state=0;this.iframe=null};Oig.prototype.getState=function(){return this.state};Oig.prototype.setActive=function(){this.state=1;this.H();this.H=null};Oig.prototype.write=function(a){var b=this.clientId,c=this.requestId;var d=a.H;a=a.O;b=Xbg(Ybg(8),b);c=_.p(b,3,c);b=new Lfg;b=_.p(b,1,d.start);d=_.p(b,2,d.end);d=_.p(d,3,a);d=_.u(c,6,d).Hc();this.port.postMessage(d)};
Oig.prototype.close=function(){var a=this;this.iframe&&setTimeout(function(){_.nj(a.iframe);a.iframe=null},500);this.state=2};
var Pig=function(a){this.isEnabled=void 0===a?!1:a;this.H=this.port=this.O=null;this.clientId=ydg();this.downloads=new Map;this.Tc=new _.cf;this.Tc.listen(_.fj(),"beforeunload",this.V.bind(this))};Pig.prototype.w3=function(){return ydg()};Pig.prototype.V=function(){var a=this;this.port&&(this.port.postMessage($bg(this.clientId)),setTimeout(function(){return void a.port.close()},250))};
Pig.prototype.start=function(a,b,c,d){var e=this;if(this.downloads.has(a))throw new _.Cd("Request with this Id already exists: "+a);return Qig(this).then(function(f){return f&&e.port?new Promise(function(g){e.downloads.set(a,new Oig(e.clientId,a,e.port,g));g=e.clientId;g=Xbg(Ybg(3),g);g=_.p(g,3,a);var k=new Kfg;k=_.p(k,2,d);k=_.p(k,3,c);k=_.p(k,1,b);g=_.u(g,5,k).Hc();e.port.postMessage(g);Rig(e)}):Promise.resolve()})};
var Tig=function(a,b){var c=Sig(a,b);c&&(c.close(),a.downloads.delete(b),null!==a.H&&0===a.downloads.size&&(clearInterval(a.H),a.H=null))},Sig=function(a,b){if(!a.downloads.has(b))throw new _.Cd("No download with this request Id exists: "+b);return a.downloads.get(b)},Qig=function(a){if(!a.isEnabled)return Promise.resolve(null);if(!a.O){var b=_.mja(),c=b?b.serviceWorker:null;if(!c)return Promise.resolve(null);a.O=c.getRegistration("/decrypted/download/").then(function(d){return d&&d.scope.includes("/decrypted/download/")?
d:c.register("/file/cse/serviceworker.js",{scope:"/decrypted/download/"})}).then(function(d){return d?new Promise(function(e){if(d.active)e(d.active);else{var f=d.installing||d.waiting;f||e(null);f.addEventListener("statechange",function(){"activated"===f.state&&e(d.active)})}}):Promise.resolve(null)}).then(function(d){if(d){var e=new MessageChannel;a.port=e.port1;a.port.onmessage=function(f){var g=window.location.origin||window.location.protocol+"//"+window.location.host;if(!f.origin||f.origin===
g)if(g=_.nh(Mfg,f.data),_.P(g,1)&&_.P(g,3))switch(_.Xg(g,1,0)){case 6:f=g.vk();(f=Sig(a,f))&&f.setActive();break;case 7:if(_.P(g,4)&&(f=g.vk(),g=_.I(g,4),f=Sig(a,f))){if(!(_.ba.HTMLIFrameElement&&"sandbox"in _.ba.HTMLIFrameElement.prototype))throw Error("na");var k={};k.src=g?_.Lb(_.Nb(g)):null;k.srcdoc=null;k.sandbox="";g=_.Dla(k,{},{"aria-hidden":"true",style:{height:"0",left:"0",position:"absolute",top:"0",width:"0"}});g=_.Ala("iframe",g);f.iframe=_.ij(document,g);f.iframe&&(f.iframe.sandbox.add("allow-scripts"),
f.iframe.sandbox.add("allow-downloads"),f.iframe.sandbox.add("allow-same-origin"),document.body.appendChild(f.iframe))}break;case 4:case 5:break;case 0:Tig(a,g.vk());break;case 2:Tig(a,g.vk());if(g.Qn())throw new _.Cd(g.getError());break;case 1:Tig(a,g.vk());break;default:throw new _.Cd("Invalid message type received from SW: "+_.Xg(g,1,0));}else throw new _.Cd("Malformed message received from SW: "+g);};d.postMessage(Zbg(a.clientId),[e.port2])}return d}).catch(function(){return Promise.resolve(null)})}return a.O};
Pig.prototype.Iv=function(){return this.isEnabled&&!_.Rg.Cy?Qig(this).then(function(a){return!!a}):Promise.resolve(!1)};var Rig=function(a){a.port&&null===a.H&&0<a.downloads.size&&Qig(a).then(function(b){b&&(a.H=setInterval(function(){var c=Ybg(11).Hc();a.port.postMessage(c)},1E4))})};
var Uig=function(){xig.call(this,_.Oe());var a=this;this.V=this.W=null;this.Tc=new _.cf(this);this.Ja(this.Tc);this.nwb=new Promise(function(b,c){a.W=b;a.V=c})};_.K(Uig,xig);var Vig=function(a,b){a.Tc.listen(b,["sb","Te"],function(c){var d=b.getItem();!a.getItem()&&d&&a.setItem(d);a.dispatchEvent(c);a.W&&d&&(c=_.rpc(new _.NA,d.getId()).setItem(d),a.W(c),a.W=null)});b.rva.catch(function(c){return void a.handleError(c)})};
Uig.prototype.handleError=function(a){a instanceof Error&&this.V&&(this.V(a),this.V=null)};
var Wig=function(a,b){this.H=a;this.O=b};
var Xig=function(){};Xig.prototype.apply=function(a,b){return b};
var Yig=function(){};Yig.prototype.apply=function(){};
var Zig=function(){};Zig.prototype.translate=function(a){return a};
var $ig=function(){};$ig.prototype.validate=function(){return null};
var ajg=function(a,b,c,d,e,f,g,k){var l=_.Fj(),n=new _.Wqc(a);b=new _.lL(a,b,new _.Crc(a),k);var q=new _.iuc(a,d),r=new _.QTa("https://ssl.gstatic.com/docs/common/cleardot.gif",void 0,_.uK(a),void 0,_.ZI()?new _.Ppc:void 0);f=new _.ZK(f,r,l.promise,d,k);c=Fdg(a,new _.vtc(n,c,b,q,e,null,f),d,k,c,l.promise,f);l.resolve(new _.Ssc(new $ig,new Zig,new _.wtc,c,new _.Rrc(function(){return!1},function(){}),new Xig,new Yig,a,g,k));return l.promise};
var bjg=function(a,b,c,d,e){this.ka=a;this.ta=b;this.wa=c;this.ha=d;this.Da=e;this.V=this.W=this.H=0;this.O=null};bjg.prototype.na=function(a,b){var c=this;if(this.W===a&&this.V===b&&this.O)return Promise.resolve(new Blob([this.O]));if(this.W===a&&b<this.V)return Promise.resolve(new Blob([]));var d=this.H-a,e=a+d,f=b-d;return Cig(this.ka,this.wa,this.ha.slice(e,e+f),this.Da,this.ta,a+b<this.ha.size).then(function(g){c.H+=f;g&&(c.W=a,c.V=b,c.O=g);return Promise.resolve(new Blob([g]))})};
var cjg=function(a,b,c,d,e,f,g,k){_.mL.call(this,a,b,c,d,e,f,k);this.uc=g;this.Lf=null;this.H={}};_.K(cjg,_.mL);
var djg=function(a,b){if(a.H[b])throw new _.Cd("FileUploadTracker already exists for this request.");var c=new xig(b);return a.H[b]=c},hjg=function(a,b,c,d,e){var f=b.vk();ejg(a,f,4);return a.upload(b,c,d,e).then(function(g){return fjg(a,f,g)},function(g){return gjg(a,f,g)})},ijg=function(a,b){var c=b.vk();ejg(a,c,4);return Promise.all(a.retry([c])).then(function(d){return fjg(a,c,d[0])},function(d){return gjg(a,c,d)})},fjg=function(a,b,c){if(!b)throw new _.Cd("Request Id is required.");var d=c.getItem();
jjg(a,b,d);d=a.uc?a.uc.gp([_.UI(new _.TI,d.getId()).setItem(d)]):Promise.resolve();return _.Cj(d.then(function(){return ejg(a,b,5,c)}))},gjg=function(a,b,c){if(b)return ejg(a,b,6,void 0,_.Zd(c)),_.Cj();throw new _.Cd("Request Id is required.");},ejg=function(a,b,c,d,e){(a=a.H[b])&&yig(a,c,d,e)};
cjg.prototype.ta=function(a,b){var c=this.Pd(a);a=this.H[a];if(c&&a)if(c&&c.request){var d=0;if(c.file){var e=c.request&&c.request.WA();e&&(d=_.y(e,1));0===d&&(d=c.file.size)}a.dispatchEvent(new _.Arc(a.requestId,b,d))}else throw new _.Cd("Invalid request.");};cjg.prototype.xS=function(){throw new _.Cd("Creating bug reports not supported.");};var jjg=function(a,b,c){var d=a.H[b];d&&(d.setItem(c),ejg(a,b,7))};
var Kbg=_.Rh(""),kjg=function(){this.port=this.iframe=null;this.H=[]};kjg.prototype.load=function(){var a=this,b=ljg();this.iframe=Rcg(b);mjg().then(function(){a.iframe&&document.body.appendChild(a.iframe)});return Qcg(this.iframe,b).then(function(c){for(a.port=c.ports[0];0<a.H.length;)c=a.H.shift(),a.port.postMessage(c.data,c.q1b)})};
kjg.prototype.exec=function(a,b){var c=this;return new Promise(function(d,e){var f=new MessageChannel;f.port1.onmessage=function(r){f.port1.onmessage=null;r=r.data;null!=r.error?e(new EvalError(r.error)):d(r.result)};for(var g=[],k=[],l=[],n=_.m(null!=b?b:[]),q=n.next();!q.done;q=n.next())q=q.value,g.push(q.name),k.push(q.value),q.transfer&&l.push(q.value);g={code:a,paramNames:g,values:k};c.port?c.port.postMessage(g,[f.port2].concat(_.Nf(l))):c.H.push({data:g,q1b:[f.port2].concat(_.Nf(l))})})};
kjg.prototype.dispose=function(){null!=this.iframe&&(this.iframe.parentNode&&this.iframe.parentNode.removeChild(this.iframe),this.iframe=null)};var ljg=function(){var a=(window.crypto||window.msCrypto).getRandomValues(new Uint8Array(16));return Array.prototype.join.call(a,".")},mjg=function(){return new Promise(function(a){"loading"!=document.readyState?a():_.Yj(document,"DOMContentLoaded",function(){a()})})};
var njg,ojg=function(){this.sandbox=new kjg};ojg.download=function(a,b,c){c=void 0===c?"":c;return _.rg(function(d){njg||(njg=new ojg,njg.init());return _.kg(d,njg.download(a,b,c),0)})};ojg.prototype.init=function(){return this.sandbox.load()};
ojg.prototype.download=function(a,b,c){a=a instanceof Blob?a:new Blob([a],{type:void 0===c?"":c});if(navigator.msSaveOrOpenBlob)return navigator.msSaveOrOpenBlob(a,b),Scg();if(!_.ja()||0<=_.Dg(_.yaa(),16)?0:_.oaa()||!(!_.ha("iPad")&&!_.ha("iPhone")||_.paa()||_.oaa()||_.ha("Coast")||_.naa())&&_.ha("AppleWebKit")){var d=new FileReader;d.onload=function(){var e=_.hj("A"),f=_.uc(String(d.result));e.href=_.hc(f);e.download=b;e.click()};d.readAsDataURL(a);return Scg()}return this.sandbox.exec('var url=URL.createObjectURL(blob);var a=document.createElement("a");if(!("download" in a)){throw new Error("Downloading not supported on this browser");}a.href=url;a.download=filename;document.body.appendChild(a);a.click();setTimeout(function(){document.body.removeChild(a);URL.revokeObjectURL(url);},250);',
[{name:"blob",value:a,transfer:!1},{name:"filename",value:b,transfer:!1}]).then(function(){return Scg()})};ojg.prototype.dispose=function(){this.sandbox.dispose()};_.cc("SafeDownloader",ojg);
var F1=function(a,b,c){var d=this;this.Qa=new _.Orc;this.H=new _.Dpc;this.na=a=_.Yoc(a.clone(),[].concat(_.Nf(new Set(_.eb(a,27).concat(pjg)))));this.Fg=new _.fqc(a);this.Ka=new _.krc(a,null,this.Fg);var e=new _.tuc,f=new _.hqc(_.uK(a)?3:1),g=_.Vqc(this.na,new _.oqc(_.uK(a),!0),f,this.H,Promise.resolve(),7);this.ka=ajg(this.na,this.Fg,this.Qa,this.H,this.Ka,f,e,g);e=new _.Buc;this.O=new cjg(a,this.Ka,this.Qa,this.ka,this.H,e,c,g);f=_.t(this.na,_.joc,2);this.W=new cig(a,this.H);b&&this.W.get();this.Ia=
new fig(this.ka,f,this.H,e);this.V=new Dig(this.ka,f,this.H);this.ta=new zig(f,this.Ia,this.W,g,this.H);this.ab=new rig(f,this.W,g,this.H);this.Ga=new Jig(this.W,g,this.H);this.Da=new vig(this.ka,g);this.wa=new Pig(_.J(f,7,!1));this.Ua=new pig(this.V,this.Ia,this.W,this.ka,c);_.xg("drive.DebugUtil.printCseLogs",function(){window.console.log(_.Fpc(d.H))});g.O(106E3)};
F1.prototype.vba=function(a,b,c,d){var e=this;c=void 0===c?!1:c;d=void 0===d?1:d;this.H.info("drive.ds.FileServiceImpl","Encrypted upload of '"+a.getTitle()+"', oidc popup: "+c);var f=a.vk();f||(f=this.O.w3(),_.p(a,9,f));!_.y(a,26)&&b instanceof File&&b.lastModified&&_.p(a,26,b.lastModified);var g=djg(this.O,f);Big(this.ta,a,g,c,d).then(function(k){var l=a.getTitle()||"";l=new File([b],l,{type:b.type});k=new bjg(e.ta,k,a,b,g);return hjg(e.O,a,l,e.ta.getMetadata(a.vc()),k.na.bind(k))},function(k){return void yig(g,
0,void 0,_.Zd(k))}).finally(function(){var k=e.ta,l=a.vc();_.gK(k.H)||(l="demoId");l&&k.V.delete(l);k=a.vk();delete e.O.H[k]});return g};F1.prototype.upload=function(a,b){var c=this;this.H.info("drive.ds.FileServiceImpl","Upload of "+a.getTitle());var d=a.vk();d||(d=this.O.w3(),_.p(a,9,d));var e=djg(this.O,d),f=null;b&&(f=b instanceof File?b:new File([b],a.getTitle()||""));Promise.resolve(hjg(this.O,a,f)).finally(function(){delete c.O.H[d]});return e};
F1.prototype.QWb=function(a){var b=this,c=djg(this.O,a);ijg(this.O,c).finally(function(){delete b.O.H[a]});return c};var qjg=function(a,b){return aig(a.W.get(),Rbg(b),_.CI(a.na).getEmail())};F1.prototype.ha=function(){var a=_.xrc[void 0];return $hg(this.W.get(),a)};
F1.prototype.k$a=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Range download/decrypt of "+a.getId()+"/"+(_.UK(a)+", range: undefined-undefined, oidc popup: ")+b);Eig(this.V,a);var c=this.Ga,d=qig(this.V,a.getId(),_.UK(a)),e=new Nfg(a,this.Da,d),f=qjg(this,b),g=Kig(c,a,d,b||!1,f);b=new ReadableStream({start:function(k){return g.then(function(l){var n=new _.tS(0,l.ha()-1);return Lig(c,a,e,l,n)}).then(function(l){k.enqueue(l);k.close()})}});return new Wig(b,d.then(function(k){return _.y(k,
4)}))};
var rjg=function(a,b,c){c=void 0===c?!1:c;a.H.info("drive.ds.FileServiceImpl","Streaming download/decrypt of "+b.getId()+"/"+_.UK(b));Eig(a.V,b);var d=qig(a.V,b.getId(),_.UK(b)),e=qjg(a,c);c=Kig(a.Ga,b,d,c||!1,e);var f=new Nfg(b,a.Da,d);return Promise.all([d,c]).then(function(g){var k=g[0],l=g[1],n=a.wa.w3();g=l.ha();var q=new _.tS(0,g-1),r=_.y(rdg(k),3),v=Ohg(_.xrc[r]);r=Math.ceil((q.end-q.start+1)/v);return a.wa.start(n,k.getTitle(),r,g).then(function(){return Nig(a.Ga,b,f,l,q,v,function(w){var x=Sig(a.wa,
n);x&&x.write(w);return Promise.resolve()}.bind(a),function(){return 1}).then(function(){return Promise.resolve()})})})};F1.prototype.P_b=function(a){this.H.info("drive.ds.FileServiceImpl","Streaming download of "+a.getId()+"/"+_.UK(a));var b=this.ka;return new ReadableStream({start:function(c){return new Promise(function(d,e){b.then(function(f){return f.jf(udg(new _.PJ,a))}).then(function(f){c.enqueue(f.H);c.close()}).then(d,e)})},pull:function(){},cancel:function(){}})};
F1.prototype.Aub=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Browser download/decrypt of "+a.getId()+"/"+(_.UK(a)+", oidc popup: ")+b);Eig(this.V,a);return this.wa.Iv().then(function(d){if(d)return rjg(c,a,b);var e=c.ab,f=qjg(c,b);d=qig(c.V,a.getId(),_.UK(a));var g=Ofg(c.Da,udg(new _.PJ,a),d);f=tig(e,a,d,b,f).then(function(k){return uig(e,a,g,k)});return Promise.all([f,d]).then(function(k){var l=_.m(k);k=l.next().value;l=l.next().value;ojg.download(new Blob([k]),
l.getTitle(),_.Oc(l.getMimeType()))})})};
F1.prototype.Fzb=function(a,b){var c=this;b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy of "+a.getId()+"/"+(_.y(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);var d=new Uig;try{var e=a.getId(),f=_.p(_.crc((new _.TK).Ib(e),_.y(a,9)),6,!0),g=this.k$a(f,b),k=g.H.getReader();k.closed.catch(function(n){return d.handleError(n)});var l=sjg(k);Promise.all([l,g.O]).then(function(n){n=_.m(n);var q=n.next().value;n=n.next().value;return qig(c.V,e,n).then(function(r){var v=
r.getMimeType();r=_.y(rdg(r),3);r=_.xrc[r];v=_.xpc(_.wK(_.vK(new _.rJ,v),_.eb(a,3)).setTitle(a.getTitle()),_.y(a,10));v=c.vba(v,new Blob(q),b,r);Vig(d,v)})}).catch(function(n){d.handleError(n)})}catch(n){d.handleError(n)}return d};F1.prototype.Gzb=function(a,b){b=void 0===b?!1:b;this.H.info("drive.ds.FileServiceImpl","Encrypted to encrypted copy via rewrap of "+(a.getId()+"/")+(_.y(a,9)+" as ")+(a.getTitle()+", oidc popup: ")+b);return this.Ua.copy(a,b)};
var sjg=function(a){var b=[],c=function(){return a.read().then(function(d){var e=d.value;if(!d.done){if(!e)throw Error("Hc");b.push(e);return c()}})};return c().then(function(){return b})};F1.prototype.sca=function(){return this.O};var pjg=[194,193,187,13,72,21,3,210,2];
_.hq({id:_.E5f,callback:function(a){return new F1(a.get(_.De),_.J(a.get(_.MWa),1,!1),a.get(_.wk))}});

_.D();

}catch(e){_._DumpException(e)}
VB ­¥ {