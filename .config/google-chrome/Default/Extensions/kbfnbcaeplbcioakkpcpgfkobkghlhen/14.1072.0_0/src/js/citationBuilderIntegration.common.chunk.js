(self.webpackChunk=self.webpackChunk||[]).push([[3896],{98332:(e,t,n)=>{n.r(t),n.d(t,{createCitationBuilderViewModel:()=>c});var i=n(24441),a=n(74850);const r=(e,t)=>{const n=a.Y.create("CitationBuilderViewModel.Header");return{notify:(t,a,r)=>{a.forEach((({type:a})=>{switch(a){case"notify":t===i._&&n.trace("Back clicked");break;case"openSettings":n.trace("Settings opened");break;case"closeCard":e()}}))},activeView:t}};var l=n(6312),o=n(70026),s=n(38983);function c(e){const t=s.h.create(l.D.State.citeSource),n=()=>t.set(l.D.State.showWindow),i=()=>t.set(l.D.State.citeSource),a=new o.A({type:l.D.ViewType.Default},{type:l.D.ViewType.Default}),c=r(i,a.activeView),d=((e,t,n,i)=>({domain:e,disablePermanently:t,disableForSession:n,openWindow:i}))(e.domain,e.disableCitationBuilder.bind(e),e.disableCitationBuilderForSession.bind(e),n);return{citation:e.citation,state:t,router:a,openWindow:n,closeWindow:i,header:c,gButton:d,_model:e}}},6312:(e,t,n)=>{var i;n.d(t,{D:()=>i}),function(e){let t,n;!function(e){e.citeSource="citeSource",e.showWindow="showWindow"}(t=e.State||(e.State={})),function(e){e.Default="Default",e.EditCitation="EditCitation",e.AddMissingInformation="AddMissingInformation"}(n=e.ViewType||(e.ViewType={}))}(i||(i={}))},7635:(e,t,n)=>{n.r(t),n.d(t,{CitationBuilderIntegrationLayout:()=>d});var i=n(27378),a=n(41263),r=n(18505),l=n(2780),o=n(68383),s=n(86620),c=n(33678);class d{render(e,t){const n=self.document,d=r.VB.get({monitorAs:"citation-builder"}).inject(l.EM.fromDocument(self.document,"grammarly-citation-builder"),l.zs.appendChild(n.documentElement),o.G7.showWhenLoaded(i.createElement((()=>i.createElement("div",{style:{position:"fixed",bottom:"32px",left:"17px",zIndex:999,"--rem":16}},i.createElement(c.a.Context.Provider,{value:new s.C},i.createElement(i.Suspense,{fallback:i.createElement(i.Fragment,null)},i.createElement(a.L,{chunkName:"citationBuilderIntegration"},i.createElement(e,{viewModel:t})))))),null)));return{dispose:()=>d.dispose()}}}},73727:(e,t,n)=>{n.r(t),n.d(t,{CitationBuilderView:()=>k});var i=n(27378),a=n(79867),r=n(6312),l=n(57050),o=n(50202),s=n(22249),c=n(53112);const d=({color:e=c.Z.neutral0})=>i.createElement("svg",{fill:"none",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},i.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.431 4h1.138c.16 0 .288.13.288.288 0 1.37 1.68 2.031 2.65 1.063a.294.294 0 0 1 .413-.002l.731.73c.114.115.112.3-.002.415-.968.968-.307 2.649 1.063 2.649.159 0 .288.129.288.288v1.138c0 .16-.13.288-.288.288-1.37 0-2.031 1.68-1.063 2.65.114.113.116.3.002.413l-.73.731a.294.294 0 0 1-.415-.002c-.968-.968-2.649-.307-2.649 1.063 0 .159-.129.288-.288.288H9.43a.288.288 0 0 1-.288-.288c0-1.37-1.68-2.031-2.65-1.063a.293.293 0 0 1-.413.002l-.731-.73a.294.294 0 0 1 .002-.415c.968-.968.307-2.649-1.063-2.649A.288.288 0 0 1 4 10.57V9.43c0-.16.13-.288.288-.288 1.37 0 2.031-1.68 1.063-2.65a.294.294 0 0 1-.002-.413l.73-.731a.294.294 0 0 1 .415.002c.968.968 2.649.307 2.649-1.063 0-.159.129-.288.288-.288ZM10 12.308a2.308 2.308 0 1 0 0-4.616 2.308 2.308 0 0 0 0 4.616Z",fill:e}));var u=n(18813),m=n(1509),g=n(64757),v=n(5739),h=n(12187),p=n(52238);const f=({viewModel:e})=>{const[t,n]=i.useState(!1),a=()=>n(!1),r=(0,o.N)({processGbuttonBlur:a,processGbuttonHover:()=>n(!0)},600,1200);return i.createElement(v.F.div,{className:p.citationGButtonContainer,...r.handlers},i.createElement("div",{className:p.citationGButtonSettingsContainer},i.createElement(u.L,{name:"disableCitationBuilder",label:i.createElement(E,{onClick:(0,l.ls)(a,r.reset.bind(r)),visible:t}),align:"left",vAlign:"top",appearanceBehavior:"mouseClick",theme:{dropdownList:p.dropdownContainer},showDelay:0},i.createElement(w,{viewModel:e}))),i.createElement("div",{className:p.citationGButton,onClick:(0,l.ls)(a,r.reset.bind(r),e.openWindow.bind(e))},i.createElement(s.V,{size:22}),i.createElement("span",{className:p.citeSource},"Cite source")))},w=({viewModel:e})=>i.createElement(i.Fragment,null," ",i.createElement(m.Z.Small,{className:p.disableMenuText},"Hide ",i.createElement("b",null,"Cite Source")," button for ",e.domain,"?"),i.createElement(g.zx.Flat,{name:"thisSessionDisable",onClick:e.disableForSession.bind(e)},"Yes, for this session"),i.createElement(g.zx.Flat,{name:"thisSessionDisable",onClick:e.disablePermanently.bind(e)},"Yes, from now on")),E=({onClick:e,visible:t})=>i.createElement("div",{...(0,h.Sh)(p.citationGButtonSettings,t?p.visible:p.hidden),onClick:e},i.createElement(d,null));var C=n(57635),_=n(24441),b=n(87965),S=n(42103);const y=e=>e.activeView.view((t=>i.createElement(_.h,{notify:e.notify,activeView:t}))),B=({children:e,vm:t})=>i.createElement(b.p,null,i.createElement(S.G.DefaultProvider,null,i.createElement(C.V,{includeContentPadding:!0,dataGrammarlyPart:"citation-window",headerContent:y(t.header)},e)));var A=n(22232);const k=e=>{return i.createElement(v.F.Fragment,null,(t=e.viewModel).state.view((e=>{switch(e){case r.D.State.citeSource:return i.createElement(f,{viewModel:t.gButton});case r.D.State.showWindow:return i.createElement(B,{vm:t},i.createElement(m.Z.Paper,null,i.createElement("h3",null,"Temporal content"),i.createElement("div",null,"Mock data:",JSON.stringify(t.citation.get()),"Onboarding:"," ",i.createElement(v.F.Fragment,null,t._model.onboardingSeen.view((e=>JSON.stringify(e))))),i.createElement("div",null,i.createElement("button",{onClick:()=>{t._model.setOnboardingSeen()}},"Set onboarding seen")),i.createElement("div",null,i.createElement("div",null,"Generation model"),i.createElement(v.F.div,null,"Kind: ",t._model.generationModel.kind),i.createElement("div",null,i.createElement("button",{onClick:()=>{t._model.generationModel.setKind(a.Z.website)}},"Set Website")),i.createElement(v.F.div,null,"Style: ",t._model.generationModel.style),i.createElement("button",{onClick:()=>{t._model.generationModel.setStyle(a.a.mla)}},"Set MLA")),i.createElement("div",null,i.createElement("button",{onClick:()=>{t._model._reset()}},"Reset settings"))));default:(0,A.vE)(e)}})));var t}},70026:(e,t,n)=>{n.d(t,{A:()=>a});var i=n(38983);class a{constructor(e,t){this._viewHistory=[],this._startupPlaceHolder=e,this._activeView=i.h.create(this._startupPlaceHolder),this._defaultView=t}get activeView(){return this._activeView.view()}get lastView(){return this._viewHistory[this._viewHistory.length-1]||this._defaultView}pushActiveView(e){const t=this._activeView.get();e.type!==t.type&&(t.type!==this._startupPlaceHolder.type&&this._viewHistory.push(t),this._activeView.set(e))}popActiveView(){const e=this._viewHistory.pop()||this._defaultView;this._activeView.set(e)}replaceActiveView(e){e.type!==this._activeView.get().type&&this._activeView.set(e)}}},86620:(e,t,n)=>{n.d(t,{C:()=>c,U:()=>i});var i,a=n(27378),r=n(29511),l=n(33678),o=n(88056),s=n(95574);!function(e){let t;!function(e){e.isAppleSystem="isAppleSystem"}(t=e.SidebarFlag||(e.SidebarFlag={})),e.Flag={...t,...l.a.Flag},e.Context=a.createContext(o.Y.invariantContent("Environment"))}(i||(i={}));class c{constructor(e=(0,r.O)()){this._flags=new Set,this.actions={openUrl:e=>s.vM((()=>{document.location.href=e.toString()})),openPopup:e=>s.vM((()=>{const t=self.open(e.toString(),void 0,"noreferrer");t&&(t.opener=null)}))},e.config.systemInfo.os.isMac&&this._flags.add(i.Flag.isAppleSystem),this._flags.add(i.Flag.supportsSVGDominantBaseline),this._flags.add(i.Flag.onlyTrustedEvents)}has(e){return this._flags.has(e)}}},57635:(e,t,n)=>{n.d(t,{V:()=>u});var i=n(27378),a=n(22679),r=n(20855),l=n(3860),o=n(29758),s=n(12187),c=n(5739),d=n(12267);const u=i.forwardRef((function({draggableRef:e,headerContent:t,className:n,children:u,includeContentPadding:m,footer:g,dataGrammarlyPart:v="single-card-assistant"},h){const[p,f]=i.useState(0),[w,E]=i.useState(0),[C,_]=i.useState(0),[b,S]=i.useState(0),y=i.useRef(null),B=i.useRef(null),A=i.useRef(null);i.useEffect((()=>{S(p+w+C)}),[p,w,C]);const k=i.useRef(null);i.useEffect((()=>{var e;return y.current?(null===(e=k.current)||void 0===e||e.disconnect(),k.current=o.N.getResizeObserver((()=>{y.current&&f(y.current.getBoundingClientRect().height)})),k.current.observe(y.current)):f(0),()=>{var e;return null===(e=k.current)||void 0===e?void 0:e.disconnect()}}),[y.current]);const V=i.useRef(null);i.useEffect((()=>{var e;return B.current?(null===(e=V.current)||void 0===e||e.disconnect(),V.current=o.N.getResizeObserver((()=>{B.current&&E(B.current.getBoundingClientRect().height)})),V.current.observe(B.current)):E(0),()=>{var e;return null===(e=V.current)||void 0===e?void 0:e.disconnect()}}),[B.current]);const F=i.useRef(null);return i.useEffect((()=>{var e;return A.current?(null===(e=F.current)||void 0===e||e.disconnect(),F.current=o.N.getResizeObserver((()=>{A.current&&_(A.current.getBoundingClientRect().height)})),F.current.observe(A.current)):_(0),()=>{var e;return null===(e=F.current)||void 0===e?void 0:e.disconnect()}}),[g,A.current]),i.useEffect((()=>{B.current&&(B.current.scrollTop=0)}),[B.current,w]),i.createElement("div",{...(0,s.Sh)(d.singleCardAssistant,n),"data-grammarly-part":v,ref:h,style:{height:b}},i.createElement("div",{"data-grammarly-part":v+"-header",...(0,s.Sh)(d.singleCardAssistantHeader,e?d.singleCardAssistantHeaderDraggable:null),ref:t=>{y.current=t,null==e||e(t)}},i.createElement(c.F.Fragment,null,t)),i.createElement("div",{"data-grammarly-part":v+"-content",...(0,s.Sh)(d.singleCardAssistantContent,m?d.singleCardAssistantContentWithPadding:null),ref:B},u),g?i.createElement("div",{"data-grammarly-part":v+"-footer",className:d.singleCardAssistantFooter,ref:A,onClick:()=>g.onClick()},i.createElement("div",{className:d.singleCardAssistantFooterText},g.content),i.createElement(r.u,{message:g.tooltip,showDelay:a.gk},i.createElement(l.h,{onClick:()=>g.onClick()},i.createElement("div",{className:d.singleCardAssistantFooterButtonIcon})))):null)}))},24441:(e,t,n)=>{n.d(t,{_:()=>g,h:()=>v});var i=n(27378),a=n(6312),r=n(3860),l=n(29417),o=n(1620),s=n(5114),c=n(12187),d=n(79880),u=n(86068);const m=e=>i.createElement(r.h,{...e},i.createElement("div",{className:u.backIcon})),g="back-button",v=({notify:e,activeView:t})=>i.createElement("div",{...(0,c.Sh)(u.citationBuilderHeader)},i.createElement("div",{className:u.headerContent},t.type===a.D.ViewType.Default?i.createElement("div",{className:u.logoIcon}):i.createElement(i.Fragment,null,i.createElement(m,{onClick:()=>e(g,[{type:"notify",userAction:d.nz.Click}],{alertRef:s.none})}),i.createElement("div",{className:u.title},function(e){switch(e.type){case a.D.ViewType.AddMissingInformation:return"Add missing information";case a.D.ViewType.EditCitation:return"Edit citation";default:return""}}(t)))),i.createElement("div",{className:u.citationBuilderHeaderActions},i.createElement(l.l,{onClick:()=>e("settings",[{type:"openSettings"}],{alertRef:s.none}),enableTooltip:!0}),i.createElement(o.P,{onClick:()=>e("close",[{type:"closeCard"}],{alertRef:s.none}),tooltipMessage:"Close Citation Builder"})))},29417:(e,t,n)=>{n.d(t,{l:()=>d});var i=n(27378),a=n(22679),r=n(3860),l=n(20855),o=n(12187),s=n(75100),c=n.n(s);const d=({enableTooltip:e=!1,size:t="medium",...n})=>i.createElement(l.u,{message:"Settings",showDelay:a.gk,disabled:!e},i.createElement(r.h,{...n},i.createElement("div",{...(0,o.Sh)("small"===t?c().settingsButtonSmallIcon:null,"medium"===t?c().settingsButtonMediumIcon:null)})))},12267:e=>{e.exports={singleCardAssistant:"_29x5a",singleCardAssistantHeader:"eFwvd",singleCardAssistantHeaderDraggable:"_3wYqZ",singleCardAssistantContent:"_1r3xI",singleCardAssistantContentWithPadding:"Jgq6x",singleCardAssistantFooter:"_23i2M",singleCardAssistantFooterText:"mTIL9",singleCardAssistantFooterButtonIcon:"FJI7I",spin:"_2z-hC"}},52238:e=>{e.exports={citationGButtonContainer:"RxGxN",citationGButtonSettings:"_3vwBC",visible:"_3IWfc",hidden:"_3gzHg",citationGButtonSettingsContainer:"_1tBtJ",citationGButton:"bGjU_",citeSource:"_3NGxe",settingsIcon:"_1Csco",disableMenuText:"_2D-wy",dropdownContainer:"_13yWM",spin:"_2Pfa1"}},86068:e=>{e.exports={actions_hovered:"_26D5B",header:"_28Fzg",citationBuilderHeader:"_2oi8Z",draggableWrapper:"dL87W",draggable:"Hq-0P",headerActions:"_1wbQt",citationBuilderHeaderActions:"_3Pdrv",headerActionBtnProofitIcon:"_3EU94",headerActionBtnGoalsIcon:"_2E18U",logoscore_fadein:"_6a2eQ",fadein:"_140p0",logoscore_fadeout:"_31ZjI",fadeout:"_2oJRY",logo_score:"_2ZPbj",logoIcon:"XSeHJ",backIcon:"_2U1Dg",title:"_1Q_TG",headerContent:"_2wNC8",spin:"_3zLJC"}},75100:e=>{e.exports={settingsButtonMediumIcon:"_1PPTj",settingsButtonSmallIcon:"_20Pta",spin:"_2dlxE"}}}]);